(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vuetify/lib/components/VForm"),require("vuetify/lib/components/VMain"),require("vuetify/lib/components/VCombobox"),require("vuetify/lib/components/VIcon"),require("vuetify/lib/components/VDialog"),require("vuetify/lib/components/VGrid"),require("vuetify/lib/components/VTextField"),require("vuetify/lib/components/VChip"),require("vuetify/lib/components/VApp"),require("vuetify/lib/components/VBtn"),require("vuetify/lib/components/VNavigationDrawer"),require("vuetify/lib/components/VSheet"),require("vuetify/lib/components/VDataTable"),require("vuetify/lib/components/VCard"),require("vuetify/lib/components/VSelect"),require("vuetify/lib/components/VAppBar"),require("vuetify/lib/components/VBtnToggle"),require("vuetify/lib/components/VToolbar"),require("vuetify/lib/components/VTooltip"),require("vuetify/lib/components/VProgressLinear"),require("vuetify/lib/components/VDivider")):"function"===typeof define&&define.amd?define(["vuetify/lib/components/VForm","vuetify/lib/components/VMain","vuetify/lib/components/VCombobox","vuetify/lib/components/VIcon","vuetify/lib/components/VDialog","vuetify/lib/components/VGrid","vuetify/lib/components/VTextField","vuetify/lib/components/VChip","vuetify/lib/components/VApp","vuetify/lib/components/VBtn","vuetify/lib/components/VNavigationDrawer","vuetify/lib/components/VSheet","vuetify/lib/components/VDataTable","vuetify/lib/components/VCard","vuetify/lib/components/VSelect","vuetify/lib/components/VAppBar","vuetify/lib/components/VBtnToggle","vuetify/lib/components/VToolbar","vuetify/lib/components/VTooltip","vuetify/lib/components/VProgressLinear","vuetify/lib/components/VDivider"],t):"object"===typeof exports?exports["Vxg"]=t(require("vuetify/lib/components/VForm"),require("vuetify/lib/components/VMain"),require("vuetify/lib/components/VCombobox"),require("vuetify/lib/components/VIcon"),require("vuetify/lib/components/VDialog"),require("vuetify/lib/components/VGrid"),require("vuetify/lib/components/VTextField"),require("vuetify/lib/components/VChip"),require("vuetify/lib/components/VApp"),require("vuetify/lib/components/VBtn"),require("vuetify/lib/components/VNavigationDrawer"),require("vuetify/lib/components/VSheet"),require("vuetify/lib/components/VDataTable"),require("vuetify/lib/components/VCard"),require("vuetify/lib/components/VSelect"),require("vuetify/lib/components/VAppBar"),require("vuetify/lib/components/VBtnToggle"),require("vuetify/lib/components/VToolbar"),require("vuetify/lib/components/VTooltip"),require("vuetify/lib/components/VProgressLinear"),require("vuetify/lib/components/VDivider")):e["Vxg"]=t(e["vuetify/lib/components/VForm"],e["vuetify/lib/components/VMain"],e["vuetify/lib/components/VCombobox"],e["vuetify/lib/components/VIcon"],e["vuetify/lib/components/VDialog"],e["vuetify/lib/components/VGrid"],e["vuetify/lib/components/VTextField"],e["vuetify/lib/components/VChip"],e["vuetify/lib/components/VApp"],e["vuetify/lib/components/VBtn"],e["vuetify/lib/components/VNavigationDrawer"],e["vuetify/lib/components/VSheet"],e["vuetify/lib/components/VDataTable"],e["vuetify/lib/components/VCard"],e["vuetify/lib/components/VSelect"],e["vuetify/lib/components/VAppBar"],e["vuetify/lib/components/VBtnToggle"],e["vuetify/lib/components/VToolbar"],e["vuetify/lib/components/VTooltip"],e["vuetify/lib/components/VProgressLinear"],e["vuetify/lib/components/VDivider"])})("undefined"!==typeof self?self:this,(function(e,t,n,r,i,o,s,l,a,u,c,p,f,d,h,m,v,g,b,y,x){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"1b42":function(t,n){t.exports=e},"1faa":function(e,n){e.exports=t},2757:function(e,t){e.exports=n},2771:function(e,t,n){},"354e":function(e,t){e.exports=r},3699:function(e,t){e.exports=i},"53ab":function(e,t,n){"use strict";n("e855")},"5f3c":function(e,t){e.exports=o},6544:function(e,t){e.exports=function(e,t){var n="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var r in"function"===typeof e.exports&&(n.components=e.exports.options.components),n.components=n.components||{},t)n.components[r]=n.components[r]||t[r]}},"66cb":function(e,t,n){"use strict";n("a50b")},6881:function(e,t){e.exports=s},"6b38":function(e,t){e.exports=l},7013:function(e,t){e.exports=a},"863d":function(e,t){e.exports=u},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,l=o.exec(d.stack)||s.exec(d.stack),a=l&&l[1]||!1,u=l&&l[2]||!1,c=document.location.href.replace(document.location.hash,""),p=document.getElementsByTagName("script");a===c&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var f=0;f<p.length;f++){if("interactive"===p[f].readyState)return p[f];if(p[f].src===a)return p[f];if(a===c&&p[f].innerHTML&&p[f].innerHTML.trim()===i)return p[f]}return null}}return e}))},"8ece":function(e,t){e.exports=c},"8fd1":function(e,t){e.exports=p},9224:function(e){e.exports=JSON.parse('{"name":"@voxgig/model-vue","version":"0.16.0","main":"./dist/Vxg.umd.js","scripts":{"serve":"vue-cli-service serve","vue-build":"vue-cli-service build --target lib --name Vxg --mode production ./src/vxg.js","vue-watch":"vue-cli-service build --target lib --name Vxg ./src/vxg.js --watch --report","lint":"vue-cli-service lint","test-off":"npm run test-lab-lint && npm run test-mocha","test":"npm run test-lab-lint","test-mocha":"mocha-webpack --interactive false --webpack-config test/test.webpack.config.js --require test/setup.js test/**/*.spec.js","test-lab":"lab -v -P test -t 0 -r console -o stdout -r html -o test/coverage.html","test-lab-lint":"lab -v -P test -t 0 -L -r console -o stdout -r html -o test/coverage.html","coveralls":"lab -s -P test -r lcov | coveralls","coverage":"lab -v -P test -r html > coverage.html","prettier":"prettier --write --no-semi --single-quote *.js src/**/*.js test/*.js","clean":"rm -rf node_modules yarn.lock package-lock.json","reset":"npm run clean && npm i && npm test","repo-check":"REPO_VERSION=`node -e \\"console.log(require(\'./package\').version)\\"` && echo TAG: v$REPO_VERSION && [[ \'\' == `git tag --list v${REPO_VERSION}` ]]","repo-tag":"REPO_VERSION=`node -e \\"console.log(require(\'./package\').version)\\"` && echo TAG: v$REPO_VERSION && git commit -a -m v$REPO_VERSION && git push && git tag v$REPO_VERSION && git push --tags;","repo-publish":"npm run repo-check && npm run clean && npm i --registry https://registry.npmjs.org && npm run prettier && npm run vue-build && npm test && npm run repo-tag && npm publish --registry https://registry.npmjs.org","repo-publish-quick":"npm run repo-check && npm run prettier && npm run vue-build && npm run repo-tag && npm publish --registry https://registry.npmjs.org --access=public"},"files":["dist/*","src/*","public/*","*.json","*.js"],"devDependencies":{"@hapi/code":"8.0.3","@hapi/eslint-plugin":"6.0.0","@hapi/joi":"17.1.1","@hapi/lab":"24.3.2","@jsonic/jsonic-next":"2.4.3","@vue/cli-plugin-babel":"4.5.13","@vue/cli-plugin-eslint":"4.5.13","@vue/cli-plugin-vuex":"4.5.13","@vue/cli-service":"4.5.13","@vue/eslint-config-prettier":"6.0.0","@vue/test-utils":"1.2.2","babel-eslint":"10.1.0","core-js":"3","deepmerge":"4.2.2","eslint":"6","eslint-plugin-prettier":"3","eslint-plugin-vue":"7.18.0","expect":"27.2.4","fibers":"5.0.0","gubu":"4.0.0","jsdom":"17.0.0","jsdom-global":"3.0.2","mocha":"4","mocha-webpack":"2.0.0-beta.0","nua":"2.0.1","patrun":"7.2.5","prettier":"2.7.1","sass":"1.34.0","sass-loader":"10","vue":"2.6.12","vue-cli-plugin-vuetify":"2.4.0","vue-router":"3.5.2","vue-template-compiler":"2.6.12","vuetify":"2.5.1","vuetify-loader":"1.7.2","vuex":"3.4.0","webpack-node-externals":"3.0.0","@seneca/search-mini":"0.1.2"}}')},a50b:function(e,t,n){},b1bf:function(e,t){e.exports=f},b7cf:function(e,t){e.exports=d},bce7:function(e,t,n){!function(t){e.exports=t()}((function(){var e={},t={};Object.defineProperty(t,"__esModule",{value:!0}),t.Gubu=void 0;const n=Symbol.for("gubu$"),r={gubu$:n,v$:"4.0.0"},i=Symbol.for("gubu$nil"),o=/^[A-Z]/,s="",l="gubu",a="name",u="nan",c="never",p="number",f="required",d="array",h="function",m="object",v="string",g="undefined",b="any",y="list",x="instance",k="null",w="type",S="Object",_="Array",j="Above",O="After",I="All",E="Any",V="Before",N="Below",T="Check",$="Child",P="Closed",C="Define",M="Default",A="Empty",R="Exact",L="Func",F="Key",D="Max",B="Min",G="Never",q="Len",Y="One",U="Open",J="Optional",H="Refer",z="Rename",W="Required",Z="Skip",K="Some",X="Value",Q=" for property ",ee='"$PATH"',te='"$VALUE"',ne=e=>Object.keys(e),re=(e,t,n)=>Object.defineProperty(e,t,n),ie=e=>Array.isArray(e),oe=e=>JSON.parse(e),se=(e,t)=>JSON.stringify(e,t);class le{constructor(e,t,n,r){this.match=!1,this.dI=0,this.nI=2,this.cI=-1,this.pI=0,this.sI=-1,this.valType=c,this.isRoot=!1,this.key=s,this.type=c,this.stop=!0,this.nextSibling=!0,this.fromDefault=!1,this.ignoreVal=void 0,this.err=[],this.parents=[],this.keys=[],this.path=[],this.root=e,this.vals=[e,-1],this.node=t,this.nodes=[t,-1],this.ctx=n||{},this.match=!!r}next(){this.stop=!1,this.fromDefault=!1,this.ignoreVal=void 0,this.isRoot=0===this.pI;let e=this.nodes[this.pI];for(;+e;)this.pI=+e,e=this.nodes[this.pI],this.dI--;e?(this.node=e,this.updateVal(this.vals[this.pI]),this.key=this.keys[this.pI],this.cI=this.pI,this.sI=this.pI+1,this.parent=this.parents[this.pI],this.nextSibling=!0,this.type=this.node.t,this.path[this.dI]=this.key,this.oval=this.val):this.stop=!0}updateVal(e){this.val=e,this.valType=typeof this.val,p===this.valType&&isNaN(this.val)&&(this.valType=u),this.isRoot&&!this.match&&(this.root=this.val)}}class ae extends TypeError{constructor(e,t,n){super(t.map(e=>e.t).join("\n")),this.gubu=!0,this.name="GubuError",this.code=e,this.desc=()=>({name:"GubuError",code:e,err:t,ctx:n})}toJSON(){return{...this,err:this.desc().err,name:this.name,message:this.message}}}const ue={String:!0,Number:!0,Boolean:!0,Object:!0,Array:!0,Function:!0,Symbol:!0,BigInt:!0},ce={string:s,number:0,boolean:!1,object:{},array:[],symbol:Symbol(s),bigint:BigInt(0),null:null};function pe(e,t){var l,a,c,f;if(fe===e)e=void 0;else if(null!=e&&(null===(l=e.$)||void 0===l?void 0:l.gubu$)){if(n===e.$.gubu$)return e.d=null==t?e.d:t,e;if(!0===e.$.gubu$){let r={...e};return r.$={v$:"4.0.0",...r.$,gubu$:n},r.v=null!=r.v&&m===typeof r.v?{...r.v}:r.v,r.t=r.t||typeof r.v,h===r.t&&ue[r.v.name]&&(r.t=r.v.name.toLowerCase(),r.v=Ze(ce[r.t]),r.f=r.v),r.r=!!r.r,r.p=!!r.p,r.d=null==t?null==r.d?-1:r.d:t,r.b=r.b||[],r.a=r.a||[],r.u=r.u||{},r}}let y=null===e?k:typeof e;y=g===y?b:y;let w=e,_=w,j=i,O=!1,I={},E=[],V=[];if(m===y)_=void 0,ie(w)?(y=d,1===w.length&&(j=w[0],w=[])):null!=w&&Function!==w.constructor&&Object!==w.constructor&&null!=w.constructor?(y=x,I.n=w.constructor.name,I.i=w.constructor,_=w):0===ne(w).length&&(j=ke());else if(h===y)if(ue[e.name])y=e.name.toLowerCase(),O=!0,_=w=Ze(ce[y]),S===e.name&&(j=ke());else if(w.gubu===r||!0===(null===(a=w.$)||void 0===a?void 0:a.gubu)){let e=w.node?w.node():w;y=e.t,_=w=e.v,O=e.r,I={...e.u},E=[...e.a],V=[...e.b]}else"Function"===w.constructor.name&&o.test(w.name)&&(y=x,O=!0,I.n=null===(f=null===(c=w.prototype)||void 0===c?void 0:c.constructor)||void 0===f?void 0:f.name,I.i=w);else p===y&&isNaN(w)?y=u:v===y&&s===w&&(I.empty=!0);let N=null==w||m!==y&&d!==y?w:{...w};return{$:r,t:y,v:N,f:_,n:null!=N&&m===typeof N?ne(N).length:0,c:j,r:O,p:!1,d:null==t?-1:t,u:I,a:E,b:V}}function fe(t,o){const l=null==o?{}:o;l.name=null==l.name?"G"+(s+Math.random()).substring(2,8):s+l.name;let a=pe(t,0);function u(e,t,n){let r=new le(e,a,t,n);for(;r.next(),!r.stop;){let e=r.node,t=!1;if(0<e.b.length)for(let i=0;i<e.b.length;i++){let n=de(e.b[i],r);e=r.node,void 0!==n.done&&(t=n.done)}if(!t){let t=!0,n=void 0===r.val;if(c===r.type)r.err.push(He(c,r,1070));else if(m===r.type){let o;if(e.r&&n?(r.ignoreVal=!0,r.err.push(He(f,r,1010))):n||null!==r.val&&m===r.valType&&!ie(r.val)?!e.p&&n&&void 0!==e.f?(r.updateVal(e.f),r.fromDefault=!0,o=r.val,t=!1):e.p&&n||(r.updateVal(r.val||(r.fromDefault=!0,{})),o=r.val):(r.err.push(He(w,r,1020)),o=ie(r.val)?r.val:{}),t&&null!=(o=null==o&&!1===r.ctx.err?{}:o)){let t=!1,n=ne(e.v),s=r.nI;if(0<n.length){t=!0,r.pI=s;for(let t of n){let n=e.v[t]=pe(e.v[t],1+r.dI);r.nodes[r.nI]=n,r.vals[r.nI]=o[t],r.parents[r.nI]=o,r.keys[r.nI]=t,r.nI++}}let l=ne(o).filter(t=>void 0===e.v[t]);if(0<l.length)if(i===e.c)r.ignoreVal=!0,r.err.push(He("closed",r,1100,void 0,{k:l}));else{t=!0,r.pI=s;for(let t of l){let n=e.c=pe(e.c,1+r.dI);r.nodes[r.nI]=n,r.vals[r.nI]=o[t],r.parents[r.nI]=o,r.keys[r.nI]=t,r.nI++}}t&&(r.dI++,r.nodes[r.nI++]=r.sI,r.nextSibling=!1)}}else if(d===r.type)if(e.r&&n)r.ignoreVal=!0,r.err.push(He(f,r,1030));else if(n||ie(r.val)){if(!e.p&&n&&void 0!==e.f)r.updateVal(e.f),r.fromDefault=!0;else if(!e.p||null!=r.val){r.updateVal(r.val||(r.fromDefault=!0,[]));let t=0<r.val.length,n=i!==e.c,o=ne(e.v).filter(e=>!isNaN(+e)),l=0<o.length;if(t||l){r.pI=r.nI;let i=0;if(l)if(o.length<r.val.length&&!n)r.ignoreVal=!0,r.err.push(He("closed",r,1090,void 0,{k:o.length}));else for(;i<o.length;i++){let t=e.v[i]=pe(e.v[i],1+r.dI);r.nodes[r.nI]=t,r.vals[r.nI]=r.val[i],r.parents[r.nI]=r.val,r.keys[r.nI]=s+i,r.nI++}if(n&&t){let t=e.c=pe(e.c,1+r.dI);for(;i<r.val.length;i++)r.nodes[r.nI]=t,r.vals[r.nI]=r.val[i],r.parents[r.nI]=r.val,r.keys[r.nI]=s+i,r.nI++}r.ignoreVal||(r.dI++,r.nodes[r.nI++]=r.sI,r.nextSibling=!1)}}}else r.err.push(He(w,r,1040));else if(b===r.type||y===r.type||void 0===r.val||r.type===r.valType||x===r.type&&e.u.i&&r.val instanceof e.u.i||k===r.type&&null===r.val)if(void 0===r.val){let t=r.path[r.dI];!e.r||g===r.type&&r.parent.hasOwnProperty(t)?void 0!==e.f&&!e.p||g===r.type?(r.updateVal(e.f),r.fromDefault=!0):b===r.type&&(r.ignoreVal=void 0===r.ignoreVal||r.ignoreVal):(r.ignoreVal=!0,r.err.push(He(f,r,1060)))}else v!==r.type||s!==r.val||e.u.empty||r.err.push(He(f,r,1080));else r.err.push(He(w,r,1050))}if(0<e.a.length)for(let i=0;i<e.a.length;i++){let n=de(e.a[i],r);e=r.node,void 0!==n.done&&(t=n.done)}let n=r.node.p?!1!==r.ignoreVal:!!r.ignoreVal;!r.match&&null!=r.parent&&!t&&!n&&(r.parent[r.key]=r.val),r.nextSibling&&(r.pI=r.sI)}if(0<r.err.length)if(ie(r.ctx.err))r.ctx.err.push(...r.err);else if(!r.match&&!1!==r.ctx.err)throw new ae("shape",r.err,r.ctx);return r.match?0===r.err.length:r.root}function p(e,t){return u(e,t,!1)}p.valid=function(e,t){let n=t||{};return n.err=n.err||[],u(e,n,!1),0===n.err.length},p.match=(e,t)=>u(e,t=t||{},!0),p.error=(e,t)=>{let n=t||{};return n.err=n.err||[],u(e,n,!1),n.err},p.spec=()=>(p(void 0,{err:!1}),oe(We(a,(e,t)=>n===t||t,!1,!0))),p.node=()=>(p.spec(),a);let h=s;return p.toString=()=>(h=Re(s===h?We(a&&a.$&&(n===a.$.gubu$||!0===a.$.gubu$)?a.v:a):h),`[Gubu ${l.name} ${h}]`),e.inspect&&e.inspect.custom&&(p[e.inspect.custom]=p.toString),p.gubu=r,p}function de(e,t){var n;let r,i={},o=!1;try{o=!(void 0!==t.val||null===(n=e.gubu$)||void 0===n||!n.Check)||e(t.val,i,t)}catch(a){r=a}let l=ie(i.err)?0<i.err.length:null!=i.err;if(!o||l){if(void 0===t.val&&(t.node.p||!t.node.r)&&!0!==i.done)return delete i.err,i;let n=i.why||"check",o=he(t);if(v===typeof i.err)t.err.push(Je(t,i.err));else if(m===typeof i.err)t.err.push(...[i.err].flat().map(e=>(e.p=null==e.p?o:e.p,e.m=null==e.m?2010:e.m,e)));else{let i=e.name;null!=i&&s!=i||(i=Re(e.toString().replace(/[ \t\r\n]+/g," "))),t.err.push(He(n,t,1045,void 0,{thrown:r},i))}i.done=null==i.done||i.done}return i.hasOwnProperty("uval")?(t.updateVal(i.uval),t.ignoreVal=!1):void 0===i.val||Number.isNaN(i.val)||(t.updateVal(i.val),t.ignoreVal=!1),void 0!==i.node&&(t.node=i.node),void 0!==i.type&&(t.type=i.type),i}function he(e){return e.path.slice(1,e.dI+1).filter(e=>null!=e).join(".")}const me=function(e){let t=Ue(this,e);return t.r=!0,t.p=!1,void 0===e&&1===arguments.length&&(t.t=g,t.v=void 0),t},ve=function(e){let t=Ue(this,e);return t.r=!1,void 0===e&&1===arguments.length&&(t.t=g,t.v=void 0),t},ge=function(e){let t=Ue(this,e);return t.r=!1,t.p=!0,t},be=function(e){let t=Ue(this);return t.t=h,t.v=e,t.f=e,t},ye=function(e,t){let n=Ue(this,void 0===t?e:t);return n.r=!1,n.f=e,h===typeof e&&ue[e.name]&&(n.t=e.name.toLowerCase(),n.f=Ze(ce[n.t])),n.p=!1,n},xe=function(e){let t=Ue(this,e);return t.u.empty=!0,t},ke=function(e){let t=Ue(this,e);return t.t=b,void 0!==e&&(t.v=e,t.f=e),t},we=function(e){let t=Ue(this,e);return t.t=c,t},Se=function(e,t){let n=Ue(this),r="number"==typeof e;n.t=v,r&&null==t&&(n=pe([]));let i=null;return"function"==typeof e&&(i=e,n=ke()),n.b.push((function(n,o,s){if(i)o.val=i(s.path,s);else if(r){let n=e;o.val=s.path.slice(s.path.length-1-(0<=n?n:0),s.path.length-1+(0<=n?0:1)),"string"==typeof t&&(o.val=o.val.join(t))}else null==e&&(o.val=s.path[s.path.length-2]);return!0})),n},_e=function(...e){let t=Ue();t.t=y,t.r=!0;let n=e.map(e=>Xe(e));return t.u.list=e,t.b.push((function(t,r,i){let o=!0;for(let e of n){let n={...i.ctx,err:[]};e(t,n),0<n.err.length&&(o=!1)}return o||(r.why=I,r.err=[Je(i,X+" "+te+Q+ee+" does not satisfy all of: "+e.map(e=>We(e,null,!0)).join(", "))]),o})),t},je=function(...e){let t=Ue();t.t=y,t.r=!0;let n=e.map(e=>Xe(e));return t.u.list=e,t.b.push((function(t,r,i){let o=!1;for(let e of n){let n={...i.ctx,err:[]},s=e.match(t,n);s&&(r.val=e(t,n)),o||(o=s)}return o||(r.why=K,r.err=[Je(i,X+" "+te+Q+ee+" does not satisfy any of: "+e.map(e=>We(e,null,!0)).join(", "))]),o})),t},Oe=function(...e){let t=Ue();t.t=y,t.r=!0;let n=e.map(e=>Xe(e));return t.u.list=e,t.b.push((function(t,r,i){let o=0;for(let e of n){let n={...i.ctx,err:[]};if(e.match(t,n)){o++,r.val=e(t,n);break}}return 1!==o&&(r.why=Y,r.err=[Je(i,X+" "+te+Q+ee+" does not satisfy one of: "+e.map(e=>We(e,null,!0)).join(", "))]),!0})),t},Ie=function(...e){let t=Ue();return t.b.push((function(t,n,r){for(let i=0;i<e.length;i++)if(t===e[i])return!0;return n.err=Je(r,X+" "+te+Q+ee+" must be exactly one of: "+r.node.s+"."),n.done=!0,!1})),t.s=e.map(e=>We(e,null,!0)).join(", "),t},Ee=function(e,t){let n=Ue(this,t);return n.b.push(e),n},Ve=function(e,t){let n=Ue(this,t);return n.a.push(e),n},Ne=function(e,t){let n=Ue(this,t);if(h===typeof e){let t=e;t.gubu$=t.gubu$||{},t.gubu$.Check=!0,n.b.push(e),n.s=(null==n.s?s:n.s+";")+We(e,null,!0),n.r=!0}else if(m===typeof e){if(Object.prototype.toString.call(e).includes("RegExp")){let t=t=>null!=t&&!Number.isNaN(t)&&!!String(t).match(e);re(t,a,{value:String(e)}),re(t,"gubu$",{value:{Check:!0}}),n.b.push(t),n.s=We(e),n.r=!0}}else v===typeof e&&(n.t=e,n.r=!0);return n},Te=function(e){let t=Ue(this,e);return t.c=ke(),t},$e=function(e){let t=Ue(this,e);return d===t.t&&i!==t.c&&0===t.n?(t.v=[t.c],t.c=i):t.c=i,t},Pe=function(e,t){let n=Ue(this,t),r=v===typeof e?e:(m===typeof e&&e||{}).name;return null!=r&&s!=r&&n.b.push((function(e,t,n){return(n.ctx.ref=n.ctx.ref||{})[r]=n.node,!0})),n},Ce=function(e,t){let n=Ue(this,t),r=m===typeof e&&e||{},i=v===typeof e?e:r.name,o=!!r.fill;return null!=i&&s!=i&&n.b.push((function(e,t,n){if(void 0!==e||o){let e=n.ctx.ref=n.ctx.ref||{};if(void 0!==e[i]){let n={...e[i]};n.t=n.t||c,t.node=n,t.type=n.t}}return!0})),n},Me=function(e,t){let n=Ue(this,t),r=m===typeof e&&e||{},i=v===typeof e?e:r.name,o="boolean"==typeof r.keep?r.keep:void 0,l=ie(r.claim)?r.claim:[];if(null!=i&&s!=i){let e=(e,t,n)=>{if(void 0===e&&0<l.length){n.ctx.Rename=n.ctx.Rename||{},n.ctx.Rename.fromDefault=n.ctx.Rename.fromDefault||{};for(let e of l){let r=n.ctx.Rename.fromDefault[e]||{};if(void 0!==n.parent[e]&&!r.yes){t.val=n.parent[e],n.match||(n.parent[i]=t.val),t.node=r.node;for(let e=0;e<n.err.length;e++)n.err[e].k===r.key&&(n.err.splice(e,1),e--);if(o){let t=n.cI+1;n.nodes.splice(t,0,pe(r.dval)),n.vals.splice(t,0,void 0),n.parents.splice(t,0,n.parent),n.keys.splice(t,0,e),n.nI++,n.pI++}else delete n.parent[e];break}}void 0===t.val&&(t.val=n.node.v)}return!0};re(e,a,{value:"Rename:"+i}),n.b.push(e);let t=(e,t,n)=>(n.parent[i]=e,n.match||o||n.key===i||ie(n.parent)&&!1!==o||(delete n.parent[n.key],t.done=!0),n.ctx.Rename=n.ctx.Rename||{},n.ctx.Rename.fromDefault=n.ctx.Rename.fromDefault||{},n.ctx.Rename.fromDefault[i]={yes:n.fromDefault,key:n.key,dval:n.node.v,node:n.node},!0);re(t,a,{value:"Rename:"+i}),n.a.push(t)}return n};function Ae(e){return p===typeof e?e:p===typeof(null==e?void 0:e.length)?e.length:null!=e&&m===typeof e?ne(e).length:NaN}function Re(e,t){let n=String(e),r=null==t||isNaN(t)?30:t<0?0:~~t,i=null==e?0:n.length,o=null==e?s:n.substring(0,i);return(o=r<i?o.substring(0,r-3)+"...":o).substring(0,r)}const Le=function(e,t){let n=Ue(this,t);return n.b.push((function(t,n,r){let i=Ae(t);if(e<=i)return!0;let o=p===typeof t?s:"length ";return n.err=Je(r,X+" "+te+Q+ee+` must be a minimum ${o}of ${e} (was ${i}).`),!1})),n.s=B+"("+e+(null==t?s:","+We(t))+")",n},Fe=function(e,t){let n=Ue(this,t);return n.b.push((function(t,n,r){let i=Ae(t);if(i<=e)return!0;let o=p===typeof t?s:"length ";return n.err=Je(r,X+" "+te+Q+ee+` must be a maximum ${o}of ${e} (was ${i}).`),!1})),n.s=D+"("+e+(null==t?s:","+We(t))+")",n},De=function(e,t){let n=Ue(this,t);return n.b.push((function(t,n,r){let i=Ae(t);if(e<i)return!0;let o=p===typeof t?"be":"have length";return n.err=Je(r,X+" "+te+Q+ee+` must ${o} above ${e} (was ${i}).`),!1})),n.s=j+"("+e+(null==t?s:","+We(t))+")",n},Be=function(e,t){let n=Ue(this,t);return n.b.push((function(t,n,r){let i=Ae(t);if(i<e)return!0;let o=p===typeof t?"be":"have length";return n.err=Je(r,X+" "+te+Q+ee+` must ${o} below ${e} (was ${i}).`),!1})),n.s=N+"("+e+(null==t?s:","+We(t))+")",n},Ge=function(e,t){let n=Ue(this,t||ke());return n.b.push((function(t,n,r){let i=Ae(t);if(e===i)return!0;let o=p===typeof t?s:" in length";return n.err=Je(r,X+" "+te+Q+ee+` must be exactly ${e}${o} (was ${i}).`),!1})),n.s=q+"("+e+(null==t?s:","+We(t))+")",n},qe=function(e,t){let n=Ue(null==t?this:t),r=pe(e);return n.c=r,n},Ye=function(e){let t=Ue(this,{});return t.c=pe(e),t};function Ue(e,t){let n=pe(null==e||e.window===e||e.global===e?t:e);return Object.assign(n,{Above:De,After:Ve,Any:ke,Before:Ee,Below:Be,Check:Ne,Child:Ye,Closed:$e,Open:Te,Define:Pe,Empty:xe,Exact:Ie,Max:Fe,Min:Le,Never:we,Len:Ge,Refer:Ce,Rename:Me,Required:me,Skip:ge,Value:qe})}function Je(e,t,n,r){return He(n||"check",e,4e3,t,r)}function He(e,t,n,r,i,o){let l={k:t.key,n:t.node,v:t.val,p:he(t),w:e,m:n,t:s,u:i||{}},a=Re((void 0===t.val?s:We(t.val)).replace(/"/g,s));if(null==r||s===r){let n=a.startsWith("[")?d:a.startsWith("{")?m:"value",r=a.startsWith("[")||ie(t.parents[t.pI])?"index":"property",u="is",p=null==i?void 0:i.k;p=ie(p)?(r=1<p.length?(u="are","properties"):r,p.join(", ")):p,l.t="Validation failed for "+(0<l.p.length?`${r} "${l.p}" with `:s)+`${n} "${a}" because `+(w===e?x===t.node.t?`the ${n} is not an instance of ${t.node.u.n} `:`the ${n} is not of type ${t.node.t}`:f===e?s===t.val?"an empty string is not allowed":`the ${n} is required`:"closed"===e?`the ${r} "${p}" ${u} not allowed`:c===e?"no value is allowed":`check "${null==o?e:o}" failed`)+(l.u.thrown?" (threw: "+l.u.thrown.message+")":".")}else l.t=r.replace(/\$VALUE/g,a).replace(/\$PATH/g,l.p);return l}function ze(e){return null!=e.s&&s!==e.s?e.s:e.r||void 0===e.v?e.t:e.v}function We(e,t,r,i){let o;i||!e||!e.$||n!==e.$.gubu$&&!0!==e.$.gubu$||(e=ze(e));try{o=se(e,(e,r)=>{var o,l;if(t&&(r=t(e,r)),null!=r&&m===typeof r&&r.constructor&&S!==r.constructor.name&&_!==r.constructor.name)r=h===typeof r.toString?r.toString():r.constructor.name;else if(h===typeof r)r=h===typeof fe[r.name]&&isNaN(+e)?void 0:null!=r.name&&s!==r.name?r.name:Re(r.toString().replace(/[ \t\r\n]+/g," "));else if("bigint"==typeof r)r=String(r.toString());else{if(Number.isNaN(r))return"NaN";!0===i||!0!==(null===(o=null==r?void 0:r.$)||void 0===o?void 0:o.gubu$)&&n!==(null===(l=null==r?void 0:r.$)||void 0===l?void 0:l.gubu$)||(r=ze(r))}return r}),o=String(o)}catch(l){o=se(String(e))}return!0===r&&(o=o.replace(/^"/,s).replace(/"$/,s)),o}function Ze(e){return null==e||m!==typeof e?e:oe(se(e))}const Ke=e=>pe({...e,$:{gubu$:!0}});if(g!==typeof window){let e=[{b:De,n:j},{b:Ve,n:O},{b:_e,n:I},{b:ke,n:E},{b:Ee,n:V},{b:Be,n:N},{b:Ne,n:T},{b:Ye,n:$},{b:$e,n:P},{b:Pe,n:C},{b:ye,n:M},{b:xe,n:A},{b:Ie,n:R},{b:be,n:L},{b:Se,n:F},{b:Fe,n:D},{b:Le,n:B},{b:we,n:G},{b:Ge,n:q},{b:Oe,n:Y},{b:Te,n:U},{b:ve,n:J},{b:Ce,n:H},{b:Me,n:z},{b:me,n:W},{b:ge,n:Z},{b:je,n:K},{b:qe,n:X}];for(let t of e)re(t.b,a,{value:t.n})}Object.assign(fe,{Gubu:fe,Above:De,After:Ve,All:_e,Any:ke,Before:Ee,Below:Be,Check:Ne,Child:Ye,Closed:$e,Define:Pe,Default:ye,Empty:xe,Exact:Ie,Func:be,Key:Se,Max:Fe,Min:Le,Never:we,Len:Ge,One:Oe,Open:Te,Optional:ve,Refer:Ce,Rename:Me,Required:me,Skip:ge,Some:je,Value:qe,GAbove:De,GAfter:Ve,GAll:_e,GAny:ke,GBefore:Ee,GBelow:Be,GCheck:Ne,GChild:Ye,GClosed:$e,GDefine:Pe,GDefault:ye,GEmpty:xe,GExact:Ie,GFunc:be,GKey:Se,GMax:Fe,GMin:Le,GNever:we,GLen:Ge,GOne:Oe,GOpen:Te,GOptional:ve,GRefer:Ce,GRename:Me,GRequired:me,GSkip:ge,GSome:je,GValue:qe,G$:Ke,buildize:Ue,makeErr:Je,stringify:We,truncate:Re,nodize:pe,isShape:e=>e&&r===e.gubu}),re(fe,a,{value:l});const Xe=fe;t.Gubu=Xe;const{Gubu:Qe}=t;return Qe}))},bfa4:function(e,t){e.exports=h},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},d7c8:function(e,t){e.exports=m},dbe5:function(e,t){e.exports=v},e34a:function(e,t){e.exports=g},e7fb:function(e,t,n){"use strict";n("2771")},e855:function(e,t,n){},e8e3:function(e,t){e.exports=b},ec45:function(e,t,n){!function(t){e.exports=t()}((function(){return function(e,t,n){var r=(n=n||{}).depth||Number.MAX_VALUE,i=n.setter,o=!!n.preserve;"object"==typeof e&&"object"==typeof t&&function e(t,n,s){if(!(null==t||null==n||r<=s)){var l=s+1;if(Array.isArray(t)&&Array.isArray(n)){for(var a=0;a<t.length;a++)"object"==typeof t[a]?e(t[a],n[a],l):i?i(t,a,n[a]):t[a]=n[a];for(;a<n.length;a++)i?i(t,a,n[a]):t[a]=n[a];t.splice(n.length)}else{for(var u=Object.keys(t),c=0;c<u.length;c++){var p=t[u[c]],f=n[u[c]];"object"===(null===p?"null":typeof p)&&"object"===(null===f?"null":typeof f)?e(p,f,l):void 0===f?o||delete t[u[c]]:i?i(t,u[c],f):t[u[c]]=f}for(var d=Object.keys(n),h=0;h<d.length;h++)void 0===t[d[h]]&&(i?(i(t,d[h],n[d[h]]),null==n[d[h]]||!Array.isArray(n[d[h]])&&"object"!=typeof n[d[h]]||e(t[d[h]],n[d[h]],l)):t[d[h]]=n[d[h]])}}}(e,t,0)}}))},ef2d:function(e,t){e.exports=y},f17e:function(e,t,n){},f62b:function(e,t,n){(function(t){!function(t){e.exports=t()}((function(){var e={exports:{}};(function(t){(function(){!function(n){"object"==typeof e.exports?e.exports=n():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).Gex=n()}((function(){var e={exports:{}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Gex=void 0;class t{constructor(e){this.desc="",this.gexmap={},null!=e&&(Array.isArray(e)?e:[e]).forEach(e=>{this.gexmap[e]=this.re(this.clean(e))})}dodgy(e){return null==e||Number.isNaN(e)}clean(e){let t=""+e;return this.dodgy(e)?"":t}match(e){e=""+e;let t=!1,n=Object.keys(this.gexmap);for(let r=0;r<n.length&&!t;r++)t=!!this.gexmap[n[r]].exec(e);return t}on(e){if(null==e)return null;let t=typeof e;if("string"===t||"number"===t||"boolean"===t||e instanceof Date||e instanceof RegExp)return this.match(e)?e:null;if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++)!this.dodgy(e[n])&&this.match(e[n])&&t.push(e[n]);return t}{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.match(n)&&(t[n]=e[n]);return t}}esc(e){let t=this.clean(e);return(t=t.replace(/\*/g,"**")).replace(/\?/g,"*?")}escregexp(e){return e?(""+e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):""}re(e){if(""===e||e)return e="^"+(e=(e=(e=(e=(e=this.escregexp(e)).replace(/\\\*/g,"[\\s\\S]*")).replace(/\\\?/g,"[\\s\\S]")).replace(/\[\\s\\S\]\*\[\\s\\S\]\*/g,"\\*")).replace(/\[\\s\\S\]\*\[\\s\\S\]/g,"\\?"))+"$",new RegExp(e);{let e=Object.keys(this.gexmap);return 1==e.length?this.gexmap[e[0]]:{...this.gexmap}}}toString(){let e=this.desc;return""!=e?e:this.desc="Gex["+Object.keys(this.gexmap)+"]"}inspect(){return this.toString()}}function n(e){return new t(e)}return e.exports.Gex=n,e.exports=n,e.exports.Gex=n,e.exports.default=n,e.exports}))}).call(this)}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),e=e.exports;var n,r,i,o,s,l,a,u,c,p={},f=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(p,"__esModule",{value:!0}),p.IntervalMatcher=p.GexMatcher=void 0,p.GexMatcher=class{constructor(){}make(t,n){if("string"==typeof n&&n.match(/[*?]/)){let t=(0,e.Gex)(n);return{kind:"gex",match:e=>null!=t.on(e),fix:n,meta:{},same(e){return null!=e&&e.kind===this.kind&&e.fix===this.fix}}}}scan(e,t){let n=e.filter(e=>"*"===e.fix).length>0;return{complete:n,sound:n,gaps:[],overs:[],why:"no-star"}}};const d=new RegExp(["^/s*","(=*[<>/(/[]?=*)?/s*([-+0-9a-fA-FeEoOxX]+(/.([0-9a-fA-FeEoOxX]+))?)([/)/]]?)(/s*(,|&+|/|+|/./.)/s*(=*[<>]?=*)/s*([-+.0-9a-fA-FeEoOxX]+)/s*([/)/]]?))?/s*$"].join("").replace(/\//g,"\\"));class h{constructor(){this.kind="interval",n.set(this,(e,t)=>function(n){return e(n)&&t(n)}),r.set(this,(e,t)=>function(n){return e(n)||t(n)}),i.set(this,e=>function(e){return!1}),o.set(this,e=>function(e){return!1}),s.set(this,e=>function(t){return t>e}),l.set(this,e=>function(t){return t>=e}),a.set(this,e=>function(t){return t<e}),u.set(this,e=>function(t){return t<=e}),c.set(this,e=>function(t){return t===e})}make(e,t){if("string"==typeof t&&t.match(/[=<>.[()\]]/)){let e=t.match(d),p={jo:"and",o0:"err",n0:NaN,o1:"err",n1:NaN},m=e=>!1;if(null!=e){let d=h.normop(e[1])||h.normop(e[5]),v=h.normop(e[8])||h.normop(e[10]),g=f(this,"="===d?c:"<"===d||")"===d?a:"<="===d||"]"===d?u:">"===d||"("===d?s:">="===d||"["===d?l:o,"f"),b=Number(e[2]),y=null==e[9]?NaN:Number(e[9]),x=e[7],k=null==x?f(this,r,"f"):"&"===x.substring(0,1)||","===x.substring(0,1)?f(this,n,"f"):f(this,r,"f");".."===x&&(k=f(this,n,"f"),g=f(this,o,"f")===g?f(this,l,"f"):g,v=""===v?"<=":v);let w=f(this,null==v?i:"="===v?c:"<"===v||")"===v?a:"<="===v||"]"===v?u:">"===v?s:">="===v?l:o,"f");if(b===y&&("="===d&&null!=v?(y=NaN,w=f(this,i,"f"),g=v.includes("<")?f(this,u,"f"):v.includes(">")?f(this,l,"f"):v.includes("=")?f(this,c,"f"):f(this,o,"f")):"="===v&&null!=d&&(y=NaN,w=f(this,i,"f"),g=d.includes("<")?f(this,u,"f"):d.includes(">")?f(this,l,"f"):f(this,o,"f"))),f(this,o,"f")!==g&&f(this,i,"f")===w&&(f(this,a,"f")===g||f(this,u,"f")===g?(w=g,y=b,g=f(this,l,"f"),b=Number.NEGATIVE_INFINITY,k=f(this,n,"f")):f(this,s,"f")!==g&&f(this,l,"f")!==g||(w=f(this,u,"f"),y=Number.POSITIVE_INFINITY,k=f(this,n,"f"))),!isNaN(y)&&y<b){let e=w,t=y;y=b,b=t,".."!==x&&(w=g,g=e)}let S=g(b),_=w(y),j=k(S,_);return{kind:"interval",fix:t,meta:p={jo:j.name,o0:S.name,n0:b,o1:_.name,n1:y},match:m=e=>{let t=!1,n=parseFloat(e);return isNaN(n)||(t=j(n)),t},same(e){return null!=e&&e.kind===this.kind&&e.meta.jo===this.meta.jo&&e.meta.o0===this.meta.o0&&e.meta.n0===this.meta.n0&&e.meta.o1===this.meta.o1&&e.meta.n1===this.meta.n1}}}}}scan(e,t){let n={complete:!1,sound:!1,gaps:[],overs:[],lower:null,upper:null},r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=this.half_intervals(e);o.reduce((e,t)=>{let n="eq"===t.o,i="lt"===t.o,o="lte"===t.o,s="gt"===t.o,l="gte"===t.o,a=t.n;if(null==e.lower){let i={n:r,o:"gte"};e.lower=i,e.upper=t,r==a&&l||(s||l?e.gaps.push([i,{n:a,o:s?"lte":"lt",m:0}]):n&&e.gaps.push([i,{n:a,o:"lte",m:1}]))}else{let r="eq"===e.upper.o,u="lt"===e.upper.o,c="lte"===e.upper.o,p=(e.upper.o,e.upper.o,e.upper.n),f=e.upper;a===p?u&&(l||n)||(c||r)&&s||(r||u||c)&&e.gaps.push([{n:p,o:r||c?"gt":"gte",m:2,d:{u:f,h:t}},{n:a,o:n||l?"lt":"lte",m:3}]):p<a?i||o||(r||u||c)&&e.gaps.push([{n:p,o:r||c?"gt":"gte",m:4},{n:a,o:n||l?"lt":"lte",m:5}]):e.overs.push([{n:a,o:n||l?"gte":"gt",m:10},{n:p,o:r||c?"lte":"lt",m:11}]),e.upper=t}return e},n);let s=0<o.length&&o[o.length-1];return s&&i!==s.n&&"gt"!==s.o&&"gte"!==s.o&&n.gaps.push([{n:s.n,o:"eq"===s.o||"lte"===s.o?"gt":"gte",m:6},{n:i,o:"lte",m:7}]),n.complete=0===n.gaps.length,n.sound=0===n.overs.length,n}half_intervals(e){let t=[];for(let r of e)t.push([{n:r.meta.n0,o:r.meta.o0},{n:r.meta.n1,o:r.meta.o1}]);var n=["lt","lte","eq","gte","gt"];return t.map(e=>[isNaN(e[0].n)||null==e[0].n?null:e[0],isNaN(e[1].n)||null==e[1].n?null:e[1]].filter(e=>null!=e)).sort((e,t)=>{if(e[0].n<t[0].n)return-1;if(t[0].n<e[0].n)return 1;var r=n.indexOf(e[0].o),i=n.indexOf(t[0].o);if(r<i)return-1;if(i<r)return 1;if(e[1].n<t[1].n)return-1;if(t[1].n<e[1].n)return 1;var o=n.indexOf(e[1].o),s=n.indexOf(t[1].o);return o<s?-1:s<o?1:0}).reduce((e,t)=>e.concat(...t),[])}}p.IntervalMatcher=h,n=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,h.normop=e=>null==e?null:((e.match(/([<>\(\)\[\]])/)||[])[1]||"")+((e.match(/(=)/)||[])[1]||"");var m={exports:{}};function v(t){var n={},r={};let i=[];return(t=t||{}).gex&&i.push(new p.GexMatcher),t.interval&&i.push(new p.IntervalMatcher),n.top=function(){return r},n.add=function(e,o){e={...e};var s="function"==typeof t?t.call(n,e,o):null,l=Object.keys(e).filter(t=>null!=e[t]).sort();l.forEach((function(t){e[t]=String(e[t])}));for(var a,u=r,c=0;c<l.length;c++){var p=l[c],f=e[p];let t=i.reduce((e,t)=>e||t.make(p,f),void 0);if((a=u.v)&&p==u.k)if(t){var d=(m=u.g=u.g||{})[p]=m[p]||[];u=(t=d.find(e=>e.same(t))||(d.push(t),t)).keymap||(t.keymap={})}else u=a[f]||(a[f]={});else if(u.k)if(p<u.k){var h=u.s;m=u.g,u.s={k:u.k,v:u.v},h&&(u.s.s=h),m&&(u.s.g=m),u.g&&(u.g={}),u.k=p,u.v={},t?(d=(m=u.g=u.g||{})[p]=m[p]||[],u=(t=d.find(e=>e.same(t))||(d.push(t),t)).keymap||(t.keymap={})):u=u.v[f]={}}else u=u.s||(u.s={}),c--;else if(u.k=p,u.v={},t){var m;d=(m=u.g=u.g||{})[p]=m[p]||[],u=(t=d.find(e=>e.same(t))||(d.push(t),t)).keymap||(t.keymap={})}else u=u.v[f]={}}return void 0!==o&&u&&(u.d=o,s&&(u.f="function"==typeof s?s:s.find,u.r="function"==typeof s.remove?s.remove:void 0)),n},n.findexact=function(e){return n.find(e,!0)},n.find=function(e,t,i){if(null==e)return null;var o=r,s=void 0===r.d?null:r.d,l=r.f,a=null,u=[],c={},p=Object.keys(e).length,f=[];void 0!==r.d&&f.push(r.d);do{if(a=o.k,o.v){var d=e[a],h=o.v[d];if(!h&&o.g&&o.g[a])for(var m=o.g[a],v=0;v<m.length;v++)if(m[v].match(d)){h=m[v].keymap;break}h?(c[a]=!0,o.s&&u.push(o.s),s=void 0===h.d?t?null:s:h.d,i&&void 0!==h.d&&f.push(h.d),l=h.f,o=h):o=o.s}else o=null;null==o&&0<u.length&&(null==s||i&&!t)&&(o=u.pop())}while(o);return t?Object.keys(c).length!==p&&(s=null):null==s&&void 0!==r.d&&(s=r.d),l&&(s=l.call(n,e,s)),i?f:s},n.remove=function(e){var t,n=r,i=null,o=[];do{if(t=n.k,n.v||n.g){if(n.v){var s=n.v[e[t]];s&&o.push({km:n,v:e[t]})}if(null==s&&n.g){let r=n.g[t]||[];for(let i=0;i<r.length;i++)if(r[i].fix===e[t]){o.push({km:n,v:e[t],mv:r[i]}),s=r[i].keymap;break}}s?(i=s.d,n=s):n=n.s}else n=null}while(n);if(void 0!==i){var l=o[o.length-1];if(l&&l.km&&l.km.v){var a=l.km.v[l.v]||l.mv&&l.mv.keymap;!a||a.r&&!a.r(e,a.d)||delete a.d}}},n.list=function(t,n){t=t||{};var i=[];return r.d&&i.push({match:{},data:r.d,find:r.f}),function r(i,o,s,l){if(i.v){var a,u=i.k,c=(0,e.Gex)(t?null==t[u]?n?null:"*":t[u]:"*"),p={...o},f={...s};for(var d in i.v)if(d===t[u]||!n&&null==t[u]||c.on(d)){var h={...p};h[u]=d;var m={...f};delete m[u],a=i.v[d],0===Object.keys(m).length&&a&&a.d&&l.push({match:h,data:a.d,find:a.f}),a&&null!=a.v&&r(a,{...h},{...m},l)}(a=i.s)&&r(a,{...p},{...f},l)}}(r,{},{...t},i),i},n.toString=function(e,t){var n=!0===e||!!t,i="function"==typeof e?e:function(e){return"function"==typeof e?"<"+e.name+">":"<"+e+">"};function o(e,t){for(var n=0;n<t;n++)e.push(" ")}var s=[],l=[];return function e(t,n,r,l){var a;if(void 0!==t.d&&(n.push(" "+i(t.d)),s.push(l.join(", ")+" -> "+i(t.d))),t.k&&(n.push("\n"),o(n,r),n.push(t.k+":")),(t.v||t.s||t.g)&&r++,t.v)for(var u=Object.keys(t.v).sort(),c=0;c<u.length;c++){var p=u[c];n.push("\n"),o(n,r),n.push(p+" ->"),(a=l.slice()).push(t.k+"="+p),e(t.v[p],n,r+1,a)}if(t.g)for(u=Object.keys(t.g).sort(),c=0;c<u.length;c++)for(var f=t.g[u[c]],d=0;d<f.length;d++){var h=f[d];n.push("\n"),o(n,r),n.push(h.fix+" ~>"),(a=l.slice()).push(t.k+"~"+h.fix),e(h.keymap,n,r+1,a)}t.s&&(n.push("\n"),o(n,r),n.push("|"),a=l.slice(),e(t.s,n,r+1,a))}(r,l,0,[]),n?l.join(""):s.join("\n")},n.inspect=n.toString,n.toJSON=function(e){return JSON.stringify(r,(function(e,t){return"function"==typeof t?"[Function]":t}),e)},n}function g(e){return new v(e)}return Object.defineProperty(m.exports,"__esModule",{value:!0}),m.exports.Gex=m.exports.Patrun=void 0,Object.defineProperty(m.exports,"Gex",{enumerable:!0,get:function(){return e.Gex}}),m.exports.Patrun=v,m.exports=g,m.exports.Patrun=v,m.exports.Gex=e.Gex,m.exports.default=g,m.exports}))}).call(this,n("c8ba"))},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=n("f62b"),l=n.n(s),a=n("fe20"),u=n.n(a),c=(n("f17e"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("vxg-basic-head",{attrs:{spec:e.spec.parts.head,logo:e.logo},on:{action:function(t){return e.action("BasicHead",t)}}}),e.showSide?n("vxg-basic-side",{attrs:{spec:e.spec.parts.side,logo:e.logo},on:{action:function(t){return e.action("BasicSide",t)}}}):e._e(),n("vxg-basic-main",{attrs:{spec:e.spec.parts.main}}),n("vxg-basic-foot",{attrs:{spec:e.spec.parts.foot}})],1)}),p=[],f={props:["logo"],data:function(){return{spec:this.$model.main.app.web}},created:function(){console.log("BasicAdmin side",this.spec.parts)},computed:{showSide:function(){return this.$store.state.vxg.cmp.BasicSide.show}},methods:{action:function(e,t){this.$emit("action",{part:e,event:t})}}},d=f;function h(e,t,n,r,i,o,s,l){var a,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=a):i&&(a=l?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),a)if(u.functional){u._injectStyles=a;var c=u.render;u.render=function(e,t){return a.call(t),c(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,a):[a]}return{exports:e,options:u}}var m=n("6544"),v=n.n(m),g=n("7013"),b=h(d,c,p,!1,null,null,null),y=b.exports;v()(b,{VApp:g["VApp"]});var x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{staticClass:"vxg-app-bar",attrs:{app:""}},[!e.drawerOpen&&e.tool.expandSide.active?n("v-icon",{staticStyle:{display:"inline-block"},attrs:{large:"",light:""},on:{click:e.openDrawer}},[e._v("mdi-chevron-right")]):e._e(),!e.drawerOpen&&e.tool.expandSide.active?n("v-divider",{staticStyle:{margin:"0px 16px"},attrs:{vertical:""}}):e._e(),e.show("clear")&&e.tool.clear.active?n("v-btn",{staticStyle:{"max-width":"16%",display:"inline-block","margin-left":"2px"},attrs:{outlined:""},on:{click:e.clearFilter}},[e._v("Clear")]):e._e(),e.show("go")&&e.tool.go.active?n("v-btn",{staticStyle:{"max-width":"16%",display:"inline-block","margin-left":"6px"},attrs:{outlined:"",disabled:e.filterDisabled},on:{click:e.filterAssets}},[e._v("Go")]):e._e(),e.show("select")&&e.tool.select.active?n("v-select",{ref:"select",staticStyle:{"max-width":"20%",display:"inline-block","margin-left":"10px"},attrs:{items:e.selectItems(),label:e.tool.select.title,tile:"",outlined:"","hide-details":"",dense:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}):e._e(),e.show("select")&&e.tool.select.active||e.show("go")&&e.tool.go.active?n("v-divider",{staticStyle:{margin:"0px 16px"},attrs:{vertical:""}}):e._e(),e.show("add")&&e.tool.add.active?n("v-btn",{staticClass:"vxg-head-btn",attrs:{tile:""},on:{click:e.addItem}},[n("v-icon",{attrs:{left:"",medium:""}},[e._v(" mdi-map-marker-path ")]),e._v(" Add "+e._s("Asset"==e.itemName?"Fixed Asset":e.itemName)+" ")],1):e._e(),e.show("addmobile")&&e.tool.add.active?n("v-btn",{staticClass:"vxg-head-btn",attrs:{tile:""},on:{click:e.addMobileAsset}},[n("v-icon",{attrs:{left:"",medium:""}},[e._v(" mdi-map-marker-path ")]),e._v(" Add Mobile Asset ")],1):e._e(),e.show("add")&&e.tool.add.active?n("v-divider",{staticStyle:{margin:"0px 16px"},attrs:{vertical:""}}):e._e(),e.show("remove")&&e.tool.remove.active?n("v-btn",{staticClass:"vxg-head-btn",attrs:{tile:""},on:{click:e.removeItem}},[n("v-icon",{attrs:{left:"",medium:""}},[e._v(" mdi-map-marker-path ")]),e._v(" Remove "+e._s(e.itemName)+" ")],1):e._e(),e.show("remove")&&e.tool.remove.active?n("v-divider",{staticStyle:{margin:"0px 16px"},attrs:{vertical:""}}):e._e(),e.tool.search.active&&e.show("search")?n("v-combobox",{ref:"search",attrs:{items:e.tag_items,flat:"","hide-details":"",outlined:"",dense:"",clearable:"",placeholder:"Search","append-icon":e.filterIcon?"mdi-tune":void 0,filter:e.customFilter},on:{keydown:function(t){return e.changeSearch(t)},"click:clear":function(t){return e.changeSearch(t)},"click:append":e.filter},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),e.tool.avatar.active||e.tool.expandMain.active?n("v-spacer"):e._e(),e.tool.avatar.active?n("v-icon",{staticStyle:{display:"inline-block"},attrs:{large:"",light:""},on:{click:function(t){return e.action("avatar")}}},[e._v("mdi-account")]):e._e(),!e.detailOpen&&e.tool.expandMain.active?n("v-divider",{staticStyle:{margin:"0px 16px"},attrs:{vertical:""}}):e._e(),!e.detailOpen&&e.tool.expandMain.active?n("v-icon",{staticStyle:{display:"inline-block"},attrs:{large:"",light:""},on:{click:e.closeDetail}},[e._v("mdi-chevron-left")]):e._e(),e.show("print")?n("v-divider",{attrs:{vertical:""}}):e._e(),e.show("print")?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[e.tool.print.active&&e.show("print")?n("v-btn",e._g(e._b({staticClass:"pa-1 ma-1",staticStyle:{height:"55px"},attrs:{large:"",elevation:"0",color:"white",disabled:e.tool.print.disabled},on:{click:function(t){return e.print()}}},"v-btn",i,!1),r),[n("v-icon",{staticClass:"vxg-icon",attrs:{large:""}},[e._v("mdi-printer")])],1):e._e()]}}],null,!1,772587149)},[n("span",[e._v(e._s("PRINT"))])]):e._e(),e.show("print")?n("v-divider",{attrs:{vertical:""}}):e._e(),e.show("bookmark")?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[e.tool.bookmark.active&&e.show("bookmark")?n("v-btn",e._g(e._b({staticClass:"pa-1 ma-1",staticStyle:{height:"55px"},attrs:{large:"",elevation:"0",color:"white",disabled:!e.bookmarkVisible},on:{click:function(t){return e.showTags()}}},"v-btn",i,!1),r),[n("v-icon",{staticClass:"vxg-icon",attrs:{large:""}},[e._v("mdi-bookmark-minus-outline")])],1):e._e()]}}],null,!1,1062341858)},[n("span",[e._v(e._s((e.bookmark?"HIDE":"SHOW")+" TAGS"))])]):e._e(),e.show("bookmark")?n("v-divider",{attrs:{vertical:""}}):e._e(),e.show("collect")?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[e.tool["collect"].active&&e.show("collect")?n("v-btn",e._g(e._b({staticClass:"pa-1 ma-1",staticStyle:{height:"55px"},attrs:{large:"",elevation:"0",color:"white"},on:{click:function(t){return e.collect()}}},"v-btn",i,!1),r),[n("v-icon",{staticClass:"vxg-icon",attrs:{large:""}},[e._v("mdi-folder-open-outline")])],1):e._e()]}}],null,!1,3197050641)},[n("span",[e._v(e._s("ASSET COLLECTION"))])]):e._e(),e.show("collect")?n("v-divider",{attrs:{vertical:""}}):e._e()],1)},k=[];function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function _(e,t){if(e){if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */O=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,s=Object.create(o.prototype),l=new $(r||[]);return i(s,"_invoke",{value:E(e,n,l)}),s}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",m="completed",v={};function g(){}function b(){}function y(){}var x={};u(x,s,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(P([])));S&&S!==n&&r.call(S,s)&&(x=S);var _=y.prototype=g.prototype=Object.create(x);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,l){var a=p(e[i],e,o);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==w(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(c).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(a.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function E(t,n,r){var i=f;return function(o,s){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var l=r.delegate;if(l){var a=V(l,r);if(a){if(a===v)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=p(t,n,r);if("normal"===u.type){if(i=r.done?m:d,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function V(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,V(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(w(t)+" is not iterable")}return b.prototype=y,i(_,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=u(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,a,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},j(I.prototype),u(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new I(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(_),u(_,a,"Generator"),u(_,s,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],l=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function I(e,t,n,r,i,o,s){try{var l=e[o](s),a=l.value}catch(u){return void n(u)}l.done?t(a):Promise.resolve(a).then(r,i)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){I(o,r,i,s,l,"next",e)}function l(e){I(o,r,i,s,l,"throw",e)}s(void 0)}))}}function V(e){return null!=e.custom12?e.tag+"("+e.custom12+")":e.tag}var N={props:["logo"],data:function(){return{search:"",select:"",view:{tool:{}},featuresMenu:[],items:[],tag_items:[]}},created:function(){var e=this;return E(O().mark((function t(){var n,r;return O().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={},[],r=setInterval(E(O().mark((function t(){return O().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("vxg_get_assets",n);case 2:e.items=n.assets,0!=e.items.length&&(e.tag_items=e.items.map(V),e.setupMiniSearch(e.items),clearInterval(r));case 4:case"end":return t.stop()}}),t)}))),111);case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{"$store.state.trigger.search.term":function(e){""==e&&this.$refs.search&&(this.$refs.search.reset(),this.tag_items=this.items.map(V))},search:function(e){var t=e||"";t.trim(),this.$store.dispatch("trigger_search",{term:t})},select:function(){this.$store.dispatch("trigger_select",{value:this.select})},"$store.state.trigger.select.value":function(e){this.select=e},"$store.vxg.cmp.BasicHead.allow.add":{handler:function(){this.$forceUpdate()}},"$store.vxg.cmp.BasicHead.allow.remove":{handler:function(){this.$forceUpdate()}},"$route.name":{immediate:!0,handler:function(e){var t=this.$route.name,n=this.$model.main.app.web.view[t];n&&n.head&&(this.view.tool=n.head.tool),this.defaults()}}},computed:{filterDisabled:function(){return this.$store.state.trigger.filter_disabled.value},filterIcon:function(){return this.$store.state.vxg.cmp.BasicHead.show.filter},bookmarkVisible:function(){return this.$store.state.trigger.bookmark.visible},bookmark:function(){return this.$store.state.trigger.bookmark.value},drawerOpen:function(){return this.$store.state.vxg.cmp.BasicSide.show},detailOpen:function(){return!this.$store.state.vxg.cmp.BasicMain.show},itemName:function(){return this.$store.state.vxg.ent.meta.name},tool:function(){var e=this.$model.main.app.web.parts.head.tool,t=this.view.tool,n=this.$main.seneca.util.deep(e,t);return n},search_config:function(){return this.$model.main.ux.custom.search_config}},methods:{setupMiniSearch:function(e){var t=this;return E(O().mark((function n(){var r,i,o;return O().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=S(e);try{for(r.s();!(i=r.n()).done;)o=i.value,t.$seneca.post("sys:search, cmd:add",{doc:o})}catch(s){r.e(s)}finally{r.f()}case 2:case"end":return n.stop()}}),n)})))()},customFilter:function(e,t,n){return 1},changeSearch:function(e){var t=this;setTimeout(E(O().mark((function n(){var r,i;return O().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.target?e.target._value:null,!r){n.next=8;break}return n.next=4,t.$seneca.post("sys:search, cmd:search",{query:r,params:t.search_config});case 4:i=n.sent,t.tag_items=i.data.hits.map((function(e){return V(e.doc)})),n.next=9;break;case 8:t.tag_items=t.items.map(V);case 9:case"end":return n.stop()}}),n)}))),11)},filterAssets:function(){this.$store.dispatch("vxg_trigger_go")},clearFilter:function(){this.$store.dispatch("vxg_trigger_clear")},defaults:function(){this.tool.select.active&&(this.select=this.tool.select.initial)},print:function(){this.$store.dispatch("vxg_trigger_printMap")},collect:function(){this.$store.dispatch("vxg_trigger_collect")},showTags:function(){this.$store.dispatch("adjust_trigger_bookmark")},getTags:function(){var e={};return this.$store.dispatch("vxg_get_assets",e),e.assets.map((function(e){return e.tag}))},addItem:function(){this.$store.dispatch("trigger_led_add")},addMobileAsset:function(){this.$store.dispatch("trigger_led_add_mobile")},removeItem:function(){this.$store.dispatch("trigger_led_remove")},selectItems:function(){var e=[];return this.tool.select.items&&Object.entries(this.tool.select.items).reduce((function(e,t){return e.push({value:t[0],text:t[1].title}),e}),e),e},filter:function(){this.$store.dispatch("trigger_toggle_filter")},show:function(e){return this.allow(e)&&this.$store.state.vxg.cmp.BasicHead.show[e]},allow:function(e){var t=this.$store.state.vxg.cmp.BasicHead.allow[e];return null==t||t},openDrawer:function(){this.$store.dispatch("set_cmp_flags",{name:"BasicSide",flags:{show:!0}})},closeDetail:function(){this.$store.dispatch("set_cmp_flags",{name:"BasicMain",flags:{show:!1}})},action:function(e){this.$emit("action",e)}}},T=N,$=(n("53ab"),n("d7c8")),P=n("863d"),C=n("2757"),M=n("ffda"),A=n("354e"),R=n("bfa4"),L=n("5f3c"),F=n("e8e3"),D=h(T,x,k,!1,null,null,null),B=D.exports;v()(D,{VAppBar:$["VAppBar"],VBtn:P["VBtn"],VCombobox:C["VCombobox"],VDivider:M["VDivider"],VIcon:A["VIcon"],VSelect:R["VSelect"],VSpacer:L["VSpacer"],VTooltip:F["VTooltip"]});var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("___")])},q=[],Y={data:function(){return{}},created:function(){}},U=Y,J=h(U,G,q,!1,null,null,null),H=J.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",{attrs:{app:""}},[n("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:""}},[n("router-view",{tag:"component",attrs:{spec:e.view_spec}})],1)],1)},W=[],Z={props:{},data:function(){return{}},computed:{view_spec:function(){var e=this.$route.meta.view||this.$model.main.app.web.defaults.view,t=this.$model.main.app.web.view[e].spec;return t}}},K=Z,X=n("1faa"),Q=h(K,z,W,!1,null,null,null),ee=Q.exports;v()(Q,{VContainer:L["VContainer"],VMain:X["VMain"]});var te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{staticClass:"vxg-side",style:e.drawerStyle,attrs:{app:""}},[n("v-sheet",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",{domProps:{innerHTML:e._s(e.logo)}}),n("v-icon",{staticStyle:{width:"48px"},attrs:{large:"",dark:""},on:{click:e.closeDrawer}},[e._v("mdi-chevron-left")])],1),n("v-btn-toggle",{staticClass:"vxg-toggle",attrs:{mandatory:""},model:{value:e.menuViewIndex,callback:function(t){e.menuViewIndex=t},expression:"menuViewIndex"}},e._l(e.menuViewList,(function(t){return n("v-btn",{key:t.name,ref:t.name,refInFor:!0,staticClass:"pa-4 text-center secondary text-no-wrap rounded-sm btn-style text-capitalize",staticStyle:{height:"70px"},attrs:{outlined:"",color:"white"},on:{click:function(n){return e.moveRoute(t)}}},[n("div",[n("v-icon",{staticStyle:{color:"white"}},[e._v(" "+e._s(t.name==e.custom.special.view.name?"mdi-fit-to-screen-outline":"mdi-dots-square")+" ")]),n("span",{staticStyle:{display:"block","font-size":"13px",padding:"5px"}},[e._v(" "+e._s(t.btnTitle)+" ")])],1)])})),1),e._l(e.menu,(function(t){return"standard"===e.menuView.mode?[e.allow(t)?n("router-link",{key:t.code,tag:"component",class:t.klass,staticStyle:{"flex-grow":"1"},attrs:{to:"/"+t.code}},[n("v-icon",[e._v("mdi-"+e._s(t.icon))]),e._v(" "+e._s(t.title)+" ")],1):e._e()]:e._e()})),"custom"===e.menuView.mode?n(e.menuView.cmp,{tag:"component",attrs:{spec:e.menuView.view.spec}}):e._e(),n("div",{staticStyle:{"flex-grow":"100"}}),n("v-divider"),e.spec.footer.active?n(e.spec.footer.cmp,{tag:"component",attrs:{spec:e.spec.footer.spec}}):e._e()],2)],1)},ne=[],re=n("ec45"),ie=n.n(re),oe=n("bce7");function se(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=le(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function le(e,t){if(e){if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=Object(oe["Gubu"])({spec:Object(oe["Required"])(Object(oe["Open"])({footer:{active:!1,cmp:Object(oe["Skip"])(String),spec:Object(oe["Open"])({})},view:Object(oe["Value"])(Object(oe["Open"])({mode:String}),Object(oe["Open"])({}))})),logo:String}),ce={props:{spec:{type:Object,required:!0},logo:String},data:function(){return{open:!0,menuShowTitle:!1,menuViewList:[],menuViewIndex:null,menuView:null,roomName:""}},beforeCreate:function(){ie()(this.$options.propsData,ue(this.$options.propsData))},created:function(){var e=[];for(var t in this.spec.view){var n=this.spec.view[t];n.name=t,e.push(n)}this.menuViewList=e;var r=this.findRouteName(this.$route.name);this.menuView=this.menuViewList[r.index],this.menuViewIndex=r.index},watch:{menuViewIndex:function(e){this.menuView.name},"$route.name":{immediate:!0,handler:function(e){!e&&this.defaultFound()&&this.$router.push(this.menuView.menu.default);var t=this.findRouteName(e);this.menuView=this.menuViewList[t.index]}}},computed:{menu:function(){this.$route.meta.view;var e=[];if("standard"===this.menuView.mode){var t=this.menuView.menu,n=t.items,r=t.order.split(/\s*,\s*/);e=r.reduce((function(e,t){return e.push(Object.assign({code:t},n[t])),e}),[]).map((function(e){return e.klass=Object.assign({"vxg-router-link":!0}),e}))}return e},drawerStyle:function(){return{width:"282px"}},custom:function(){return this.$model.main.ux.custom},view:function(){return this.custom.special.view},portal:function(){return this.custom.special.portal}},methods:{moveRoute:function(e){var t=this.$route.name;"standard"==e.mode?t!=e.menu.default&&this.$router.push("/"+e.menu.default):"custom"==e.mode&&t!=e.name&&this.$router.push("/"+e.name)},defaultFound:function(){return this.menuView&&this.menuView.menu&&this.menuView.menu.default},findRouteName:function(e){var t;for(var n in this.custom.special){if(this.custom.special[n].name==e)return this.custom.special[n];if(t=this.custom.special[n].sub){var r,i=se(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o==e)return this.custom.special[n]}}catch(s){i.e(s)}finally{i.f()}}}return{index:1}},allow:function(e){var t=!e||!e.allow||this.$vxg.allow(e.allow);return t},openDrawer:function(){this.$store.dispatch("set_cmp_flags",{name:"BasicSide",flags:{show:!0}})},closeDrawer:function(){this.$store.dispatch("set_cmp_flags",{name:"BasicSide",flags:{show:!1}})},action:function(e){this.$emit("action",e)}}},pe=ce,fe=(n("66cb"),n("dbe5")),de=n("8ece"),he=n("8fd1"),me=h(pe,te,ne,!1,null,null,null),ve=me.exports;v()(me,{VBtn:P["VBtn"],VBtnToggle:fe["VBtnToggle"],VDivider:M["VDivider"],VIcon:A["VIcon"],VNavigationDrawer:de["VNavigationDrawer"],VSheet:he["VSheet"]});var ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.allow("list")?n("div",[e.show.table?n("v-data-table",{attrs:{dense:"",headers:e.headers,items:e.items,"items-per-page":25,"x-custom-filter":"customFilter","footer-props":{itemsPerPageOptions:[25,50,75,100,-1]},loading:e.loading,"sort-by":e.sortBy,"sort-desc":e.sortDesc,search:e.search},on:{"click:row":e.openItem,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("div",{staticStyle:{"text-align":"left",padding:"5vh"}},[n("v-progress-linear",{attrs:{indeterminate:"",color:"blue darken-2"}})],1)]},proxy:!0},e._l(e.headers,(function(t){return{key:e.itemslot(t),fn:function(r){var i=r.item;return[n("div",{key:t.value},["status"===t.type?n("span",[n("v-chip",{staticStyle:{"font-weight":"bold",color:"white"},attrs:{small:"",xclass:"ma-2",color:"outofdate"===i[t.value]?"red":"suspended"===i[t.value]?"orange":"blue"}},[e._v(" "+e._s((t.kind[i[t.value]]||{}).title)+" ")])],1):"datetime"===t.type?n("span",[e._v(" "+e._s(new Date(i[t.value]))+" ")]):n("span",[e._v(e._s(i[t.value]))])])]}}}))],null,!0)},["error"==e.loadState?n("div",{staticStyle:{"text-align":"left",padding:"5vh"}},[n("span",[e._v(" error - no results ")])]):e._e()]):e._e(),e.show.item?n("div",[e.showEditToolbar?n("v-toolbar",{attrs:{flat:""}},[n("v-spacer")],1):e._e(),n("div",{staticStyle:{"box-sizing":"border-box",display:"flex","flex-flow":"row wrap"}},[e._l(e.fields,(function(t,r){return n("div",{key:r,staticClass:"vxg-form-field",style:e.fieldstyle(t,r)},[t.popup?n("a",{staticStyle:{"text-decoration":"underline"},on:{click:function(n){return e.activatePopup(t.popup)}}},[e._v(" "+e._s(t.popup.spec.title)+" ")]):n("a",[e._v("  ")]),"string"===t.type?n("v-text-field",{attrs:{label:t.title,outlined:"",disabled:t.readonly||!e.allow("edit",t),rules:t.rules},model:{value:e.item[t.name],callback:function(n){e.$set(e.item,t.name,n)},expression:"item[field.name]"}}):e._e(),t.popup?n("v-dialog",{attrs:{height:t.popup.height,width:t.popup.width},model:{value:e.popup_dialogs[t.popup.name],callback:function(n){e.$set(e.popup_dialogs,t.popup.name,n)},expression:"popup_dialogs[field.popup.name]"}},[n(t.popup.cmp,{tag:"component",attrs:{"v-if":t.popup.active,spec:t.popup.spec}})],1):e._e(),"status"===t.type?n("vxg-basic-field-pick",{attrs:{field:t,param:{item:e.item}}}):e._e(),"datetime"===t.type?n("v-text-field",{attrs:{label:t.title,outlined:"",disabled:""},model:{value:e.readitem[t.name],callback:function(n){e.$set(e.readitem,t.name,n)},expression:"readitem[field.name]"}}):e._e(),"basicled"===t.type?n("vxg-basic-led",{attrs:{spec:t.spec,param:{item:e.item}}}):e._e(),"changes"===t.type?n("div",{staticClass:"changes"},[n("h3",[e._v("Changes")]),n("table",{attrs:{border:"0",cellpadding:"0",cellspacing:"0"}},[e._m(0,!0),e._l(e.changes(e.item.changes),(function(t){return n("tr",{key:t.title},[n("td",[e._v(e._s(t.title))]),n("td",[e._v(e._s(t.old))]),n("td",[e._v(e._s(t.new))])])}))],2)]):e._e()],1)})),n("v-dialog",{attrs:{width:"500"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.removeItemCancel(t)}},model:{value:e.remove.dialog,callback:function(t){e.$set(e.remove,"dialog",t)},expression:"remove.dialog"}},[n("v-card",[n("v-toolbar",{attrs:{dense:"",flat:""}},[n("v-toolbar-title",[e._v(" "+e._s("Remove "+this.spec.ent.primary.name||!1)+" ")])],1),n("v-card-text",{staticClass:"pa-4"},[e._v(" Confirm you would like to remove: "+e._s(e.getName(this.item))+" ")]),n("v-card-actions",{staticClass:"pt-0"},[n("v-spacer"),n("v-btn",{attrs:{outlined:""},on:{click:e.removeItemCancel}},[e._v("Cancel")]),n("v-btn",{attrs:{outlined:""},on:{click:e.removeItem}},[e._v("Remove")])],1)],1)],1)],2),n("v-toolbar",{attrs:{flat:""}},[n("v-btn",{attrs:{outlined:""},on:{click:e.closeItem}},[e._v("Cancel")]),n("v-spacer"),e.allow("edit")?n("v-btn",{attrs:{outlined:""},on:{click:function(t){e.remove.dialog=!0}}},[e._v("Remove")]):e._e(),n("div",{staticStyle:{padding:"5px"}}),e.allow("edit")?n("v-btn",{attrs:{outlined:""},on:{click:e.saveItem}},[e._v("Save")]):e._e()],1)],1):e._e()],1):e._e()},be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("Field")]),n("th",[e._v("Old")]),n("th",[e._v("New")])])}];function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t=Se(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){var t=_e(e,"string");return"symbol"==ye(t)?t:t+""}function _e(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function je(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ee(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function Oe(e,t){return Te(e)||Ne(e,t)||Ee(e,t)||Ie()}function Ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ee(e,t){if(e){if("string"===typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,l=[],a=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Te(e){if(Array.isArray(e))return e}function $e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,s=Object.create(o.prototype),l=new N(r||[]);return i(s,"_invoke",{value:O(e,n,l)}),s}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",m="completed",v={};function g(){}function b(){}function y(){}var x={};u(x,s,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(T([])));w&&w!==n&&r.call(w,s)&&(x=w);var S=y.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(i,o,s,l){var a=p(e[i],e,o);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==ye(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(c).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(a.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,s){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var l=r.delegate;if(l){var a=I(l,r);if(a){if(a===v)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=p(t,n,r);if("normal"===u.type){if(i=r.done?m:d,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ye(t)+" is not iterable")}return b.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=u(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,a,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new j(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(S),u(S,a,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],l=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;V(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Pe(e,t,n,r,i,o,s){try{var l=e[o](s),a=l.value}catch(u){return void n(u)}l.done?t(a):Promise.resolve(a).then(r,i)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Pe(o,r,i,s,l,"next",e)}function l(e){Pe(o,r,i,s,l,"throw",e)}s(void 0)}))}}var Me={props:{spec:{type:Object,required:!0},param:{type:Object,default:function(){}}},data:function(){return{item:null,readitem:null,show:{table:!0,item:!1},sortBy:"when",sortDesc:!0,search:"",loadlen:0,showprogress:!0,loadingerror:!1,loadState:"loading",remove:{dialog:!1},popup_dialogs:{}}},mounted:function(){},created:function(){var e=this;return Ce($e().mark((function t(){return $e().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.popup_dialogs=e.fields.reduce((function(e,t){return t.popup&&(e[t.popup.name]=!1),e}),{}),t.prev=1,t.next=4,e.$store.dispatch("list_"+e.spec.ent.store_name);case 4:e.loadState="done",t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),e.loadState="error",console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},watch:{"$store.state.trigger.led.add":function(){this.openItem({last:Date.now()})},"$store.state.trigger.search.term":function(e){this.search=e},$route:{immediate:!0,handler:function(){this.$store.dispatch("set_cmp_flags",{name:"BasicHead",flags:{show:{add:this.spec.edit.active,search:this.spec.search&&this.spec.search.active},allow:{add:this.allow("edit")}}}),this.$store.dispatch("set_ent_meta",{name:this.spec.ent.primary.name||"Item"})}}},computed:{loading:function(){return"loading"==this.loadState},headers:function(){var e={};Object.entries(this.spec.ent.primary.field).forEach((function(t){var n=Oe(t,2),r=n[0],i=n[1];return e[r]={value:r,text:i.title,type:i.type,kind:i.kind||{}}}));var t=(this.spec.list.layout.order?this.spec.list.layout.order.split(/\s*,\s*/):Object.keys(this.spec.ent.primary.field)).map((function(t){return e[t]})).filter((function(e){return null!=e}));return t},items:function(){var e=this,t=this.$store.state[this.spec.ent.store_name];return"user-by-role"===this.spec.name&&(t=t.filter((function(t){return e.param.item.role===t.profile}))),t},fields:function(){try{var e,t=[],n=this.spec.edit.layout.order.split(/,/),r=je(n);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=ke({},this.spec.ent.primary.field[i])||{};o.name=i,o=ke(ke({},o),this.spec.edit.layout.field[i]||{}),o.custom=o.custom||{},o.custom.allow=o.custom.allow||this.allow.bind(this),t.push(o)}}catch(s){r.e(s)}finally{r.f()}return t}catch(l){}return[]},showEditToolbar:function(){if(this.allow("edit")){var e=this.spec.edit.layout.toolbar.active;if(!0===e)return e;if(e&&e.field){for(var t=!0,n=0,r=Object.entries(e.field);n<r.length;n++){var i=Oe(r[n],2),o=i[0],s=i[1];t="not-empty"===s&&(t&&null!=this.item[o])}return t}}return!1},customInfoFields:function(){return this.$model.main.ux.custom.info_fields}},methods:{itemslot:function(e){return"item."+e.value},selection:function(e){var t=e.kind&&Object.entries(e.kind),n=t?t.map((function(e){var t=Oe(e,2),n=t[0],r=t[1];return{text:r.title,value:n}})):[];return n},customAction:function(e){this.$store.dispatch(e,this.item)},openItem:function(e){!1!==this.spec.edit.active&&(this.item=e,this.readitem=ke({},this.item),this.readitem.last=this.formatdate(this.item.last),this.readitem.when=this.formatdate(this.item.when),this.show.table=!1,this.show.item=!0)},saveItem:function(){this.$store.dispatch("save_"+this.spec.ent.store_name,this.item),this.show.table=!0,this.show.item=!1},removeItem:function(){this.$store.dispatch("remove_"+this.spec.ent.store_name,this.item),this.show.table=!0,this.show.item=!1,this.remove.dialog=!1},removeItemCancel:function(){this.remove.dialog=!1},closeItem:function(){this.show.table=!0,this.show.item=!1},fieldstyle:function(e){return{"flex-basis":100*e.size/12+"%"}},formatdate:function(e){return new Date(e).toString()},customFilter:function(e,t,n){return!0},allow:function(e,t){var n=!0,r=this.spec[e]&&this.spec[e].allow;return r&&(n=this.$vxg.allow(r)),"edit"==e&&t&&!1===t.edit&&this.item.created&&(n=!1),n},changes:function(e){var t=this,n=null==e?{}:JSON.parse(e),r=Object.keys(n).filter((function(e){return"audit"!=e})).reduce((function(e,t){return e.push({title:t,field:t,old:n[t][0],new:n[t][1]}),e}),[]);return this.customInfoFields&&(r=r.filter((function(e){var n;return e.old||e.new?((n=t.getInfoFieldByName(e.title))&&(e.title=n.title),1):0}))),r},getInfoFieldByName:function(e){var t,n=je(this.customInfoFields);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.name==e)return r}}catch(i){n.e(i)}finally{n.f()}return null},getName:function(e){var t=Object.keys(this.spec.edit.layout.field)[0];return e[t]},activatePopup:function(e){this.popup_dialogs[e.name]=!0}}},Ae=Me,Re=(n("e7fb"),n("b7cf")),Le=n("6b38"),Fe=n("b1bf"),De=n("3699"),Be=n("ef2d"),Ge=n("6881"),qe=n("e34a"),Ye=h(Ae,ge,be,!1,null,null,null),Ue=Ye.exports;v()(Ye,{VBtn:P["VBtn"],VCard:Re["VCard"],VCardActions:Re["VCardActions"],VCardText:Re["VCardText"],VChip:Le["VChip"],VDataTable:Fe["VDataTable"],VDialog:De["VDialog"],VProgressLinear:Be["VProgressLinear"],VSpacer:L["VSpacer"],VTextField:Ge["VTextField"],VToolbar:qe["VToolbar"],VToolbarTitle:qe["VToolbarTitle"]});var Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{attrs:{items:e.pick(e.field),label:e.field.title,outlined:"",disabled:e.field.readonly||!e.allow("edit")},model:{value:e.item[e.field.name],callback:function(t){e.$set(e.item,e.field.name,t)},expression:"item[field.name]"}})},He=[];function ze(e,t){return Qe(e)||Xe(e,t)||Ze(e,t)||We()}function We(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ze(e,t){if(e){if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,l=[],a=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Qe(e){if(Array.isArray(e))return e}var et={props:{field:{type:Object,required:!0},param:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){var e=this.custom=this.field.custom||{};e.allow=e.allow||function(){return!0}},computed:{item:function(){return this.param.item}},methods:{pick:function(e){var t=e.kind&&Object.entries(e.kind)||[],n=t.filter(this.makeFieldFilter(e)).map((function(e){var t=ze(e,2),n=t[0],r=t[1];return{text:r.title,value:n}}));return n},makeFieldFilter:function(e){var t=this.custom,n=t.field&&t.field[e.name]&&t.field[e.name].filter;return n||function(){return!0}},allow:function(){var e;return(e=this.custom).allow.apply(e,arguments)}}},tt=et,nt=h(tt,Je,He,!1,null,null,null),rt=nt.exports;v()(nt,{VSelect:R["VSelect"]});var it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.user?e._t("default"):n("v-container",[n("v-row",[n("v-col"),n("v-col",[n("v-card",{attrs:{xstyle:"max-width:40vw"}},[n("v-card-title",[e._v("Sign In")]),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-card-text",[n("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:"",outlined:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{rules:e.passwordRules,label:"Password",required:"",type:"password",outlined:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),"empty"!=e.state?n("v-card-text",[e._v(" "+e._s(e.stateMessage[e.state])+" ")]):e._e(),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{disabled:!e.valid},on:{click:e.signin}},[e._v(" Sign In ")])],1)],1)],1)],1),n("v-col")],1)],1)],2)},ot=[],st={props:{user:Object},data:function(){return{state:"empty",valid:!1,email:"",password:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"}],stateMessage:{signin:"Signing in...",fail:"Signin details are incorrect. Please try again."}}},created:function(){},computed:{},methods:{signin:function(){var e=this;this.state="signin",this.$store.dispatch("signin_user",{email:this.email,password:this.password}).then((function(t){var n=t.ok;n||(e.state="fail")}))}}},lt=st,at=n("1b42"),ut=h(lt,it,ot,!1,null,null,null),ct=ut.exports;v()(ut,{VBtn:P["VBtn"],VCard:Re["VCard"],VCardActions:Re["VCardActions"],VCardText:Re["VCardText"],VCardTitle:Re["VCardTitle"],VCol:L["VCol"],VContainer:L["VContainer"],VForm:at["VForm"],VRow:L["VRow"],VSpacer:L["VSpacer"],VTextField:Ge["VTextField"]});var pt=n("9224");function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t=wt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function gt(e,t){if(e){if("string"===typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(e,t):void 0}}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wt(r.key),r)}}function kt(e,t,n){return t&&xt(e.prototype,t),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wt(e){var t=St(e,"string");return"symbol"==ft(t)?t:t+""}function St(e,t){if("object"!=ft(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _t={},jt={};console.log("VXG 01");var Ot=function(){function e(t){yt(this,e),this.match={allow:new l.a({gex:!0})},this.cmp={},this.config(t),this.util=jt}return kt(e,[{key:"config",value:function(e){Object.assign(this.config,_t,e||{}),this.config.allow=this.config.allow||{},this.config.allow.modify=this.config.allow.modify||function(e){return e},this.config.allow.match=this.config.allow.match||[];var t,n=vt(this.config.allow.match);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.match.allow.add(r,{allow:!0})}}catch(i){n.e(i)}finally{n.f()}}},{key:"allow",value:function(e){var t,n=u()(e),r=Array.isArray(e)?e:Object.keys(n).map((function(e){return n[e]})),i=null,o=vt(r);try{for(o.s();!(t=o.n()).done;){var s=t.value,l=this.config.allow.modify(ht({},s||{}));if(i=this.match.allow.find(l),i)break}}catch(a){o.e(a)}finally{o.f()}return!!i&&!!i.allow}},{key:"install",value:function(e,t){var n=this,r={VxgBasicAdmin:y,VxgBasicHead:B,VxgBasicFoot:H,VxgBasicMain:ee,VxgBasicSide:ve,VxgBasicLed:Ue,VxgBasicFieldPick:rt,VxgBasicAuth:ct};Object.keys(r).forEach((function(t){e.component(t,r[t]),n.cmp[t]=r[t]})),e.prototype.$vxg=this,window.vxg=this}}])}();Ot.info={version:pt.version,note:"aaa"};var It=Ot;t["default"]=It},fe20:function(e,t,n){!function(t){e.exports=t()}((function(){var e=function(e){var t;return function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}},t=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.values=t.keys=t.omap=t.str=t.prop=t.normalt=t.parserwrap=t.trimstk=t.tokenize=t.srcfmt=t.snip=t.regexp=t.mesc=t.makelog=t.isarr=t.filterRules=t.extract=t.escre=t.errinject=t.errdesc=t.entries=t.defprop=t.deep=t.configure=t.clone=t.clean=t.charset=t.badlex=t.assign=t.S=t.JsonicError=void 0;const i=n({}),o=e=>null==e?[]:Object.keys(e);t.keys=o,t.values=e=>null==e?[]:Object.values(e);const s=e=>null==e?[]:Object.entries(e);t.entries=s;const l=(e,...t)=>Object.assign(null==e?{}:e,...t);t.assign=l,t.isarr=e=>Array.isArray(e);const a=Object.defineProperty;t.defprop=a;const u=(e,t)=>Object.entries(e||{}).reduce((e,n)=>{let r=t?t(n):n;void 0===r[0]?delete e[n[0]]:e[r[0]]=r[1];let i=2;for(;void 0!==r[i];)e[r[i]]=r[i+1],i+=2;return e},{});t.omap=u;const c={indent:"  ",space:" ",Object:"Object",Array:"Array",object:"object",string:"string",function:"function",unexpected:"unexpected",map:"map",list:"list",elem:"elem",pair:"pair",val:"val",node:"node",no_re_flags:r.EMPTY,unprintable:"unprintable",invalid_ascii:"invalid_ascii",invalid_unicode:"invalid_unicode",invalid_lex_state:"invalid_lex_state",unterminated_string:"unterminated_string",unterminated_comment:"unterminated_comment",lex:"lex",parse:"parse",error:"error",none:"none",imp_map:"imp,map",imp_list:"imp,list",imp_null:"imp,null",end:"end",open:"open",close:"close",rule:"rule",stack:"stack",nUll:"null",name:"name",make:"make"};t.S=c;class p extends SyntaxError{constructor(e,t,n,r,i){let o=y(e,t=m({},t),n,r,i);super(o.message),l(this,o),g(this)}toJSON(){return{...this,__error:!0,name:this.name,message:this.message,stack:this.stack}}}function f(e,t,n){let i=t.t,o=i[e];return null==o&&r.STRING===typeof e&&(i[o=t.tI++]=e,i[e]=o,i[e.substring(1)]=o,null!=n&&l(n.token,t.t)),o}function d(e,...t){return new RegExp(t.map(e=>e.esc?h(e.toString()):e).join(r.EMPTY),null==e?"":e)}function h(e){return null==e?"":e.replace(/[-\\|\]{}()[^$+*?.!=]/g,"\\$&").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n")}function m(e,...t){let n=c.function===typeof e,r=null!=e&&(c.object===typeof e||n);for(let i of t){let t,o=c.function===typeof i,s=null!=i&&(c.object===typeof i||o);if(r&&s&&!o&&Array.isArray(e)===Array.isArray(i))for(let n in i)e[n]=m(e[n],i[n]);else e=void 0===i?e:o?i:s?c.function===typeof(t=i.constructor)&&c.Object!==t.name&&c.Array!==t.name?i:m(Array.isArray(i)?[]:{},i):i,n=c.function===typeof e,r=null!=e&&(c.object===typeof e||n)}return e}function v(e,t,n,r,i,o){let s={code:t,details:n,token:r,rule:i,ctx:o};return null==e?"":e.replace(/\$([\w_]+)/g,(e,t)=>{let l=JSON.stringify(null!=s[t]?s[t]:null!=n[t]?n[t]:o.meta&&null!=o.meta[t]?o.meta[t]:null!=r[t]?r[t]:null!=i[t]?i[t]:null!=o.opts[t]?o.opts[t]:null!=o.cfg[t]?o.cfg[t]:null!=o[t]?o[t]:"$"+t);return null==l?"":l})}function g(e){e.stack&&(e.stack=e.stack.split("\n").filter(e=>!e.includes("jsonic/jsonic")).map(e=>e.replace(/    at /,"at ")).join("\n"))}function b(e,t,n){let i=0<n.sI?n.sI:0,o=0<n.rI?n.rI:1,s=0<n.cI?n.cI:1,l=null==n.src?r.EMPTY:n.src,a=e.substring(Math.max(0,i-333),i).split("\n"),u=e.substring(i,i+333).split("\n"),c=2+(r.EMPTY+(o+2)).length,p=o<3?1:o-2,f=e=>"[34m"+(r.EMPTY+p++).padStart(c," ")+" | [0m"+(null==e?r.EMPTY:e),d=a.length;return[2<d?f(a[d-3]):null,1<d?f(a[d-2]):null,f(a[d-1]+u[0])," ".repeat(c)+"   "+" ".repeat(s-1)+"[31m"+"^".repeat(l.length||1)+" "+t+"[0m",f(u[1]),f(u[2])].filter(e=>null!=e).join("\n")}function y(e,t,n,r,i){try{let o=i.cfg,s=i.meta,l=v(o.error[e]||o.error.unknown,e,t,n,r,i);c.function===typeof o.hint&&(o.hint={...o.hint(),...o.hint});let a=["[31m[jsonic/"+e+"]:[0m "+l,"  [34m--\x3e[0m "+(s&&s.fileName||"<no-file>")+":"+n.rI+":"+n.cI,b(i.src(),l,n),"",v((o.hint[e]||o.hint.unknown||"").trim().split("\n").map(e=>"  "+e).join("\n"),e,t,n,r,i),"","  [2mhttps://jsonic.senecajs.org[0m","  [2m--internal: rule="+r.name+"~"+r.state+"; token="+f(n.tin,i.cfg)+(null==n.why?"":"~"+n.why)+"; plugins="+i.plgn().map(e=>e.name).join(",")+"--[0m\n"].join("\n"),u={internal:{token:n,ctx:i}};return u={...Object.create(u),message:a,code:e,details:t,meta:s,fileName:s?s.fileName:void 0,lineNumber:n.rI,columnNumber:n.cI}}catch(o){return console.log(o),{}}}function x(e){return"function"==typeof e.debug.print.src?e.debug.print.src:(t,n)=>null==t?r.EMPTY:(n=JSON.stringify(t)).substring(0,e.debug.maxlen)+(e.debug.maxlen<n.length?"...":r.EMPTY)}function k(e,t=44){let n;try{n="object"==typeof e?JSON.stringify(e):""+e}catch(r){n=""+e}return w(t<n.length?n.substring(0,t-3)+"...":n,t)}function w(e,t=5){return void 0===e?"":(""+e).substring(0,t).replace(/[\r\n\t]/g,".")}function S(...e){return null==e?{}:e.filter(e=>!1!==e).map(e=>"object"==typeof e?o(e).join(r.EMPTY):e).join(r.EMPTY).split(r.EMPTY).reduce((e,t)=>(e[t]=t.charCodeAt(0),e),{})}function _(e){for(let t in e)null==e[t]&&delete e[t];return e}t.JsonicError=p,t.configure=function(e,t,n){var r,i,a,c,p,m,v,g,b,y,x,k,w,j,O,I,E,V,N,T,$,P,C,M,A,R,L,F,D,B,G,q,Y,U,J,H,z,W,Z,K,X;const Q=t||{};Q.t=Q.t||{},Q.tI=Q.tI||1;const ee=e=>f(e,Q);!1!==n.standard$&&(ee("#BD"),ee("#ZZ"),ee("#UK"),ee("#AA"),ee("#SP"),ee("#LN"),ee("#CM"),ee("#NR"),ee("#ST"),ee("#TX"),ee("#VL")),Q.fixed={lex:!!(null===(r=n.fixed)||void 0===r?void 0:r.lex),token:n.fixed?u(_(n.fixed.token),([e,t])=>[t,f(e,Q)]):{},ref:void 0},Q.fixed.ref=u(Q.fixed.token,([e,t])=>[e,t]),Q.fixed.ref=Object.assign(Q.fixed.ref,u(Q.fixed.ref,([e,t])=>[t,e])),Q.tokenSet=n.tokenSet?Object.keys(n.tokenSet).reduce((e,t)=>(e[t]=n.tokenSet[t].filter(e=>null!=e).map(e=>ee(e)),e),{...Q.tokenSet}):{},Q.tokenSetDerived={ignore:Object.fromEntries(((null===(i=n.tokenSet)||void 0===i?void 0:i.ignore)||[]).map(e=>[ee(e),!0]))},Q.space={lex:!!(null===(a=n.space)||void 0===a?void 0:a.lex),chars:S(null===(c=n.space)||void 0===c?void 0:c.chars)},Q.line={lex:!!(null===(p=n.line)||void 0===p?void 0:p.lex),chars:S(null===(m=n.line)||void 0===m?void 0:m.chars),rowChars:S(null===(v=n.line)||void 0===v?void 0:v.rowChars),single:!!(null===(g=n.line)||void 0===g?void 0:g.single)},Q.text={lex:!!(null===(b=n.text)||void 0===b?void 0:b.lex),modify:((null===(y=Q.text)||void 0===y?void 0:y.modify)||[]).concat(([null===(x=n.text)||void 0===x?void 0:x.modify]||!1).flat()).filter(e=>null!=e)},Q.number={lex:!!(null===(k=n.number)||void 0===k?void 0:k.lex),hex:!!(null===(w=n.number)||void 0===w?void 0:w.hex),oct:!!(null===(j=n.number)||void 0===j?void 0:j.oct),bin:!!(null===(O=n.number)||void 0===O?void 0:O.bin),sep:null!=(null===(I=n.number)||void 0===I?void 0:I.sep)&&""!==n.number.sep,exclude:null===(E=n.number)||void 0===E?void 0:E.exclude,sepChar:null===(V=n.number)||void 0===V?void 0:V.sep},Q.value={lex:!!(null===(N=n.value)||void 0===N?void 0:N.lex),map:s((null===(T=n.value)||void 0===T?void 0:T.map)||{}).reduce((e,t)=>(null==t[1]||(e[t[0]]=t[1]),e),{})},Q.rule={start:null==(null===($=n.rule)||void 0===$?void 0:$.start)?"val":n.rule.start,maxmul:null==(null===(P=n.rule)||void 0===P?void 0:P.maxmul)?3:n.rule.maxmul,finish:!!(null===(C=n.rule)||void 0===C?void 0:C.finish),include:(null===(M=n.rule)||void 0===M?void 0:M.include)?n.rule.include.split(/\s*,+\s*/).filter(e=>""!==e):[],exclude:(null===(A=n.rule)||void 0===A?void 0:A.exclude)?n.rule.exclude.split(/\s*,+\s*/).filter(e=>""!==e):[]},Q.map={extend:!!(null===(R=n.map)||void 0===R?void 0:R.extend),merge:null===(L=n.map)||void 0===L?void 0:L.merge},Q.list={property:!!(null===(F=n.list)||void 0===F?void 0:F.property)};let te=Object.keys(Q.fixed.token).sort((e,t)=>t.length-e.length).map(e=>h(e)).join("|"),ne=(null===(D=n.comment)||void 0===D?void 0:D.lex)?(n.comment.marker||[]).filter(e=>e.lex).map(e=>h(e.start)).join("|"):"",re=["([",h(o(S(Q.space.lex&&Q.space.chars,Q.line.lex&&Q.line.chars)).join("")),"]",("string"==typeof n.ender?n.ender.split(""):Array.isArray(n.ender)?n.ender:[]).map(e=>"|"+h(e)).join(""),""===te?"":"|",te,""===ne?"":"|",ne,"|$)"];return Q.rePart={fixed:te,ender:re,commentStart:ne},Q.re={ender:d(null,...re),rowChars:d(null,h(null===(B=n.line)||void 0===B?void 0:B.rowChars)),columns:d(null,"["+h(null===(G=n.line)||void 0===G?void 0:G.chars)+"]","(.*)$")},Q.lex={empty:!!(null===(q=n.lex)||void 0===q?void 0:q.empty),emptyResult:null===(Y=n.lex)||void 0===Y?void 0:Y.emptyResult,match:(null===(U=n.lex)||void 0===U?void 0:U.match)?n.lex.match.map(e=>{let t=e(Q,n);return t.maker=e,t}):[]},Q.debug={get_console:(null===(J=n.debug)||void 0===J?void 0:J.get_console)||(()=>console),maxlen:null==(null===(H=n.debug)||void 0===H?void 0:H.maxlen)?99:n.debug.maxlen,print:{config:!!(null===(W=null===(z=n.debug)||void 0===z?void 0:z.print)||void 0===W?void 0:W.config),src:null===(K=null===(Z=n.debug)||void 0===Z?void 0:Z.print)||void 0===K?void 0:K.src}},Q.error=n.error||{},Q.hint=n.hint||{},(null===(X=n.config)||void 0===X?void 0:X.modify)&&o(n.config.modify).forEach(e=>n.config.modify[e](Q,n)),Q.debug.print.config&&Q.debug.get_console().dir(Q,{depth:null}),Q.result={fail:[]},n.result&&(Q.result.fail=[...n.result.fail]),l(e.options,n),l(e.token,Q.t),l(e.fixed,Q.fixed.ref),Q},t.tokenize=f,t.mesc=function(e,t){return(t=new String(e)).esc=!0,t},t.regexp=d,t.escre=h,t.deep=m,t.errinject=v,t.trimstk=g,t.extract=b,t.errdesc=y,t.badlex=function(e,t,n){let r=r=>{let i=e.next(r);if(t===i.tin){let e={};throw null!=i.use&&(e.use=i.use),new p(i.why||c.unexpected,e,i,r,n)}return i};return r.src=e.src,r},t.makelog=function(e,t){var n,r,i;let o=null===(i=null===(r=null===(n=e.opts)||void 0===n?void 0:n.plugin)||void 0===r?void 0:r.debug)||void 0===i?void 0:i.trace;if(t||o)if("number"==typeof(null==t?void 0:t.log)||o){let n=!1,r=null==t?void 0:t.log;(-1===r||o)&&(r=1,n=!0),e.log=(...t)=>{if(n){let n=t.filter(e=>c.object!=typeof e).map(e=>c.function==typeof e?e.name:e).join(c.indent);e.cfg.debug.get_console().log(n)}else e.cfg.debug.get_console().dir(t,{depth:r})}}else"function"==typeof t.log&&(e.log=t.log);return e.log},t.srcfmt=x,t.str=k,t.snip=w,t.clone=function(e){return m(Object.create(Object.getPrototypeOf(e)),e)},t.charset=S,t.clean=_,t.filterRules=function(e,t){let n=["open","close"];for(let r of n)e.def[r]=e.def[r].map(e=>(e.g="string"==typeof e.g?(e.g||"").split(/\s*,+\s*/):e.g||[],e)).filter(e=>t.rule.include.reduce((t,n)=>t||null!=e.g&&-1!==e.g.indexOf(n),0===t.rule.include.length)).filter(e=>t.rule.exclude.reduce((t,n)=>t&&(null==e.g||-1===e.g.indexOf(n)),!0));return e},t.normalt=function(e){if(null!=e.c){let t=e.c.n,n=e.c.d;null==t&&null==n||(e.c=function(e){let r=!0;if(null!=t)for(let n in t)r=r&&(null==e.n[n]||e.n[n]<=(null==t[n]?0:t[n]));return null!=n&&(r=r&&e.d<=n),r},null!=t&&(e.c.n=t),null!=n&&(e.c.d=n))}if(r.STRING===typeof e.g&&(e.g=e.g.split(/\s*,\s*/)),e.s&&0!==e.s.length){const t=e=>e.flat().filter(e=>"number"==typeof e),n=(e,t)=>e.filter(e=>31*t<=e&&e<31*(t+1)),r=(e,t)=>e.reduce((e,n)=>1<<n-(31*t+1)|e,0),i=t([e.s[0]]),o=t([e.s[1]]),s=e;s.S0=0<i.length?new Array(Math.max(...i.map(e=>1+e/31|0))).fill(null).map((e,t)=>t).map(e=>r(n(i,e),e)):null,s.S1=0<o.length?new Array(Math.max(...o.map(e=>1+e/31|0))).fill(null).map((e,t)=>t).map(e=>r(n(o,e),e)):null}else e.s=null;return e},t.prop=function(e,t,n){let r=e;try{let r,i=t.split(".");for(let t=0;t<i.length;t++)r=i[t],t<i.length-1&&(e=e[r]=e[r]||{});return void 0!==n&&(e[r]=n),e[r]}catch(i){throw new Error("Cannot "+(void 0===n?"get":"set")+" path "+t+" on object: "+k(r)+(void 0===n?"":" to value: "+k(n,22)))}},t.parserwrap=function(e){return{start:function(t,n,o,s){try{return e.start(t,n,o,s)}catch(l){if("SyntaxError"===l.name){let s=0,a=0,u=0,c=r.EMPTY,d=l.message.match(/^Unexpected token (.) .*position\s+(\d+)/i);if(d){c=d[1],s=parseInt(d[2]),a=t.substring(0,s).replace(/[^\n]/g,r.EMPTY).length;let e=s-1;for(;-1<e&&"\n"!==t.charAt(e);)e--;u=Math.max(t.substring(e,s).length,0)}let h=l.token||(0,i.makeToken)("#UK",f("#UK",n.internal().config),void 0,c,(0,i.makePoint)(c.length,s,l.lineNumber||a,l.columnNumber||u));throw new p(l.code||"json",l.details||{msg:l.message},h,{},l.ctx||{uI:-1,opts:n.options,cfg:n.internal().config,token:h,meta:o,src:()=>t,root:()=>{},plgn:()=>n.internal().plugins,rule:{name:"no-rule"},sub:{},xs:-1,v2:h,v1:h,t0:h,t1:h,tC:-1,rs:[],rsI:0,next:()=>h,rsm:{},n:{},log:o?o.log:void 0,F:x(n.internal().config),use:{},NORULE:{name:"no-rule"},NOTOKEN:{name:"no-token"}})}throw l}}}}})),n=e((function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeTextMatcher=n.makeNumberMatcher=n.makeCommentMatcher=n.makeStringMatcher=n.makeLineMatcher=n.makeSpaceMatcher=n.makeFixedMatcher=n.makeToken=n.makePoint=n.makeLex=n.makeNoToken=void 0;const i=t({});class o{constructor(e,t,n,r){this.len=-1,this.sI=0,this.rI=1,this.cI=1,this.token=[],this.len=e,null!=t&&(this.sI=t),null!=n&&(this.rI=n),null!=r&&(this.cI=r)}toString(){return"Point["+[this.sI+"/"+this.len,this.rI,this.cI]+(0<this.token.length?" "+this.token:"")+"]"}[r.INSPECT](){return this.toString()}}const s=(...e)=>new o(...e);n.makePoint=s;class l{constructor(e,t,n,i,o,s,l){this.isToken=!0,this.name=r.EMPTY,this.tin=-1,this.val=void 0,this.src=r.EMPTY,this.sI=-1,this.rI=-1,this.cI=-1,this.len=-1,this.name=e,this.tin=t,this.src=i,this.val=n,this.sI=o.sI,this.rI=o.rI,this.cI=o.cI,this.use=s,this.why=l,this.len=null==i?0:i.length}resolveVal(e,t){return"function"==typeof this.val?this.val(e,t):this.val}bad(e,t){return this.err=e,null!=t&&(this.use=(0,i.deep)(this.use||{},t)),this}toString(){return"Token["+this.name+"="+this.tin+" "+(0,i.snip)(this.src)+(void 0===this.val||"#ST"===this.name||"#TX"===this.name?"":"="+(0,i.snip)(this.val))+" "+[this.sI,this.rI,this.cI]+(null==this.use?"":" "+(0,i.snip)(""+JSON.stringify(this.use).replace(/"/g,""),22))+(null==this.err?"":" "+this.err)+(null==this.why?"":" "+(0,i.snip)(""+this.why,22))+"]"}[r.INSPECT](){return this.toString()}}const a=(...e)=>new l(...e);function u(e,t,n){let r=e.pnt,i=t;if(e.cfg.fixed.lex&&null!=n&&0<n.length){let o=void 0,s=e.cfg.fixed.token[n];null!=s&&(o=e.token(s,void 0,n,r)),null!=o&&(r.sI+=o.src.length,r.cI+=o.src.length,null==t?i=o:r.token.push(o))}return i}n.makeToken=a,n.makeNoToken=()=>a("",-1,void 0,r.EMPTY,s(-1)),n.makeFixedMatcher=(e,t)=>{let n=(0,i.regexp)(null,"^(",e.rePart.fixed,")");return function(t){let r=e.fixed;if(!r.lex)return;let i=t.pnt,o=t.src.substring(i.sI).match(n);if(o){let e=o[1],n=e.length;if(0<n){let o=void 0,s=r.token[e];return null!=s&&(o=t.token(s,void 0,e,i),i.sI+=n,i.cI+=n),o}}}},n.makeCommentMatcher=(e,t)=>{let n=t.comment;e.comment={lex:!!n&&!!n.lex,marker:((null==n?void 0:n.marker)||[]).map(t=>{let n={start:t.start,end:t.end,line:!!t.line,lex:!!t.lex,suffixMatch:void 0};return n.getSuffixMatch=t.suffix?()=>{if(t.suffix instanceof Function)return n.suffixMatch=t.suffix;let r=(Array.isArray(t.suffix)?t.suffix:[t.suffix]).map(t=>e.lex.match.find(e=>{var n;return(null===(n=e.maker)||void 0===n?void 0:n.name)==t})).filter(e=>null!=e),o=(...e)=>{r.map(t=>t(...e))};return(0,i.defprop)(o,"name",{value:""+t.suffix}),o}:void 0,n})};let r=e.comment.lex?e.comment.marker.filter(e=>e.lex&&e.line):[],o=e.comment.lex?e.comment.marker.filter(e=>e.lex&&!e.line):[];return function(t,n){if(!e.comment.lex)return;let s=t.pnt,l=t.src.substring(s.sI),a=s.rI,u=s.cI;for(let i of r)if(l.startsWith(i.start)){let r=l.length,o=i.start.length;for(u+=i.start.length;o<r&&!e.line.chars[l[o]];)u++,o++;let a=l.substring(0,o),c=t.token("#CM",void 0,a,s);return s.sI+=a.length,s.cI=u,i.suffixMatch?i.suffixMatch(t,n):i.getSuffixMatch&&(i.suffixMatch=i.getSuffixMatch(),i.suffixMatch&&i.suffixMatch(t,n)),c}for(let r of o)if(l.startsWith(r.start)){let n=l.length,o=r.start.length,c=r.end;for(u+=r.start.length;o<n&&!l.substring(o).startsWith(c);)e.line.rowChars[l[o]]&&(a++,u=0),u++,o++;if(l.substring(o).startsWith(c)){u+=c.length;let e=l.substring(0,o+c.length),n=t.token("#CM",void 0,e,s);return s.sI+=e.length,s.rI=a,s.cI=u,n}return t.bad(i.S.unterminated_comment,s.sI,s.sI+9*r.start.length)}}},n.makeTextMatcher=(e,t)=>{let n=(0,i.regexp)(e.line.lex?null:"s","^(.*?)",...e.rePart.ender);return function(r){let i=e.text,o=r.pnt,s=r.src.substring(o.sI),l=e.value.map,a=s.match(n);if(a){let n=a[1],s=a[2],c=void 0;if(null!=n){let t=n.length;if(0<t){let s=void 0;e.value.lex&&void 0!==(s=l[n])?(c=r.token("#VL",s.val,n,o),o.sI+=t,o.cI+=t):i.lex&&(c=r.token("#TX",n,n,o),o.sI+=t,o.cI+=t)}}if(c&&(c=u(r,c,s)),c&&0<e.text.modify.length){const n=e.text.modify;for(let i=0;i<n.length;i++)c.val=n[i](c.val,r,e,t)}return c}}},n.makeNumberMatcher=(e,t)=>{let n=e.number,r=(0,i.regexp)(null,["^([-+]?(0(",[n.hex?"x[0-9a-fA-F_]+":null,n.oct?"o[0-7_]+":null,n.bin?"b[01_]+":null].filter(e=>null!=e).join("|"),")|[.0-9]+([0-9_]*[0-9])?)","(\\.[0-9]?([0-9_]*[0-9])?)?","([eE][-+]?[0-9]+([0-9_]*[0-9])?)?"].join("").replace(/_/g,n.sep?(0,i.escre)(n.sepChar):""),")",...e.rePart.ender),o=n.sep?(0,i.regexp)("g",(0,i.escre)(n.sepChar)):void 0;return function(t){if(!(n=e.number).lex)return;let i=t.pnt,s=t.src.substring(i.sI),l=e.value.map,a=s.match(r);if(a){let n=a[1],r=a[9],s=void 0,c=!0;if(null!=n&&(c=!e.number.exclude||!n.match(e.number.exclude))){let r=n.length;if(0<r){let a=void 0;if(e.value.lex&&void 0!==(a=l[n]))s=t.token("#VL",a.val,n,i);else{let e=o?n.replace(o,""):n,l=+e;if(isNaN(l)){let t=e[0];"-"!==t&&"+"!==t||(l=("-"===t?-1:1)*+e.substring(1))}isNaN(l)||(s=t.token("#NR",l,n,i),i.sI+=r,i.cI+=r)}}}return c&&(s=u(t,s,r)),s}}},n.makeStringMatcher=(e,t)=>{let n=t.string||{};return e.string=e.string||{},e.string=(0,i.deep)(e.string,{lex:!!(null==n?void 0:n.lex),quoteMap:(0,i.charset)(n.chars),multiChars:(0,i.charset)(n.multiChars),escMap:(0,i.clean)({...n.escape}),escChar:n.escapeChar,escCharCode:null==n.escapeChar?void 0:n.escapeChar.charCodeAt(0),allowUnknown:!!n.allowUnknown,replaceCodeMap:(0,i.omap)((0,i.clean)({...n.replace}),([e,t])=>[e.charCodeAt(0),t]),hasReplace:!1}),e.string.hasReplace=0<(0,i.keys)(e.string.replaceCodeMap).length,function(t){let n=e.string;if(!n.lex)return;let{quoteMap:o,escMap:s,escChar:l,escCharCode:a,multiChars:u,allowUnknown:c,replaceCodeMap:p,hasReplace:f}=n,{pnt:d,src:h}=t,{sI:m,rI:v,cI:g}=d,b=h.length;if(o[h[m]]){const n=h[m],o=m,y=v,x=u[n];++m,++g;let k,w=[];for(;m<b;m++){g++;let r=h[m];if(k=void 0,n===r){m++;break}if(l===r){g++;let e=s[h[++m]];if(null!=e)w.push(e);else if("x"===h[m]){m++;let e=parseInt(h.substring(m,m+2),16);if(isNaN(e))return m-=2,g-=2,d.sI=m,d.cI=g,t.bad(i.S.invalid_ascii,m,m+4);let n=String.fromCharCode(e);w.push(n),m+=1,g+=2}else if("u"===h[m]){let e="{"===h[++m]?(m++,1):0,n=e?6:4,r=parseInt(h.substring(m,m+n),16);if(isNaN(r))return m=m-2-e,g-=2,d.sI=m,d.cI=g,t.bad(i.S.invalid_unicode,m,m+n+2+2*e);let o=String.fromCodePoint(r);w.push(o),m+=n-1+e,g+=n+e}else{if(!c)return d.sI=m,d.cI=g-1,t.bad(i.S.unexpected,m,m+1);w.push(h[m])}}else if(f&&void 0!==(k=p[h.charCodeAt(m)]))w.push(k),g++;else{let r=m,o=n.charCodeAt(0),s=h.charCodeAt(m);for(;(!f||void 0===(k=p[s]))&&m<b&&32<=s&&o!==s&&a!==s;)s=h.charCodeAt(++m),g++;if(g--,void 0===k&&s<32){if(!x||!e.line.chars[h[m]])return d.sI=m,d.cI=g,t.bad(i.S.unprintable,m,m+1);e.line.rowChars[h[m]]&&(d.rI=++v),g=1,w.push(h.substring(r,m+1))}else w.push(h.substring(r,m)),m--}}if(h[m-1]!==n||d.sI===m-1)return d.rI=y,t.bad(i.S.unterminated_string,o,m);const S=t.token("#ST",w.join(r.EMPTY),h.substring(d.sI,m),d);return d.sI=m,d.rI=v,d.cI=g,S}}},n.makeLineMatcher=(e,t)=>function(t){if(!e.line.lex)return;let{chars:n,rowChars:r}=e.line,{pnt:i,src:o}=t,{sI:s,rI:l}=i,a=e.line.single,u=void 0;for(a&&(u={});n[o[s]]&&!(u&&(u[o[s]]=(u[o[s]]||0)+1,a&&1<u[o[s]]));)l+=r[o[s]]?1:0,s++;if(i.sI<s){let e=o.substring(i.sI,s);const n=t.token("#LN",void 0,e,i);return i.sI+=e.length,i.rI=l,i.cI=1,n}},n.makeSpaceMatcher=(e,t)=>function(t){if(!e.space.lex)return;let{chars:n}=e.space,{pnt:r,src:i}=t,{sI:o,cI:s}=r;for(;n[i[o]];)o++,s++;if(r.sI<o){let e=i.substring(r.sI,o);const n=t.token("#SP",void 0,e,r);return r.sI+=e.length,r.cI=s,n}};class c{constructor(e){this.src=r.EMPTY,this.ctx={},this.cfg={},this.pnt=s(-1),this.ctx=e,this.src=e.src(),this.cfg=e.cfg,this.pnt=s(this.src.length)}token(e,t,n,r,o,s){let l,u;return"string"==typeof e?(u=e,l=(0,i.tokenize)(u,this.cfg)):(l=e,u=(0,i.tokenize)(e,this.cfg)),a(u,l,t,n,r||this.pnt,o,s)}next(e){let t,n,r=this.pnt,o=r.sI;if(r.end)t=r.end;else if(0<r.token.length)t=r.token.shift();else if(r.len<=r.sI)r.end=this.token("#ZZ",void 0,"",r),t=r.end;else{for(let r of this.cfg.lex.match)if(t=r(this,e)){n=r;break}t=t||this.token("#BD",void 0,this.src[r.sI],r,void 0,"unexpected")}return this.ctx.log&&this.ctx.log(i.S.indent.repeat(e.d)+i.S.lex,(0,i.tokenize)(t.tin,this.cfg),this.ctx.F(t.src),r.sI,r.rI+":"+r.cI,(null==n?void 0:n.name)||"none",this.ctx.F(this.src.substring(o,o+16))),this.ctx.sub.lex&&this.ctx.sub.lex.map(n=>n(t,e,this.ctx)),t}tokenize(e){return(0,i.tokenize)(e,this.cfg)}bad(e,t,n){return this.token("#BD",void 0,0<=t&&t<=n?this.src.substring(t,n):this.src[this.pnt.sI],void 0,void 0,e)}}n.makeLex=(...e)=>new c(...e)})),r={};Object.defineProperty(r,"__esModule",{value:!0}),r.STRING=r.INSPECT=r.EMPTY=r.AFTER=r.BEFORE=r.CLOSE=r.OPEN=void 0,r.OPEN="o",r.CLOSE="c",r.BEFORE="b",r.AFTER="a",r.EMPTY="",r.INSPECT=Symbol.for("nodejs.util.inspect.custom"),r.STRING="string";var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.defaults=void 0;const o=n({}),s={tag:"-",fixed:{lex:!0,token:{"#OB":"{","#CB":"}","#OS":"[","#CS":"]","#CL":":","#CA":","}},tokenSet:{ignore:["#SP","#LN","#CM"],val:["#TX","#NR","#ST","#VL"],key:["#TX","#NR","#ST","#VL"]},space:{lex:!0,chars:" \t"},line:{lex:!0,chars:"\r\n",rowChars:"\n",single:!1},text:{lex:!0},number:{lex:!0,hex:!0,oct:!0,bin:!0,sep:"_",exclude:void 0},comment:{lex:!0,marker:[{line:!0,start:"#",lex:!0},{line:!0,start:"//",lex:!0},{line:!1,start:"/*",end:"*/",lex:!0}]},string:{lex:!0,chars:"'\"`",multiChars:"`",escapeChar:"\\",escape:{b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",'"':'"',"'":"'","`":"`","\\":"\\","/":"/"},allowUnknown:!0},map:{extend:!0,merge:void 0},list:{property:!0},value:{lex:!0,map:{true:{val:!0},false:{val:!1},null:{val:null}}},ender:[],plugin:{},debug:{get_console:()=>console,maxlen:99,print:{config:!1,src:void 0}},error:{unknown:"unknown error: $code",unexpected:"unexpected character(s): $src",invalid_unicode:"invalid unicode escape: $src",invalid_ascii:"invalid ascii escape: $src",unprintable:"unprintable character: $src",unterminated_string:"unterminated string: $src",unterminated_comment:"unterminated comment: $src",unknown_rule:"unknown rule: $rulename"},hint:function(e=((e,t="replace")=>e[t](/[A-Z]/g,e=>" "+e.toLowerCase())[t](/[~%][a-z]/g,e=>("~"==e[0]?" ":"")+e[1].toUpperCase())),t="~sinceTheErrorIsUnknown,ThisIsProbablyABugInsideJsonic\nitself,OrAPlugin.~pleaseConsiderPostingAGithubIssue -Thanks!\n\n~code: $code,~details: \n$details|~theCharacter(s) $srcWereNotExpectedAtThisPointAsTheyDoNot\nmatchTheExpectedSyntax,EvenUnderTheRelaxedJsonicRules.~ifIt\nisNotObviouslyWrong,TheActualSyntaxErrorMayBeElsewhere.~try\ncommentingOutLargerAreasAroundThisPointUntilYouGetNoErrors,\nthenRemoveTheCommentsInSmallSectionsUntilYouFindThe\noffendingSyntax.~n%o%t%e:~alsoCheckIfAnyPluginsYouAreUsing\nexpectDifferentSyntaxInThisCase.|~theEscapeSequence $srcDoesNotEncodeAValidUnicodeCodePoint\nnumber.~youMayNeedToValidateYourStringDataManuallyUsingTest\ncodeToSeeHow~javaScriptWillInterpretIt.~alsoConsiderThatYour\ndataMayHaveBecomeCorrupted,OrTheEscapeSequenceHasNotBeen\ngeneratedCorrectly.|~theEscapeSequence $srcDoesNotEncodeAValid~a%s%c%i%iCharacter.~you\nmayNeedToValidateYourStringDataManuallyUsingTestCodeToSee\nhow~javaScriptWillInterpretIt.~alsoConsiderThatYourDataMay\nhaveBecomeCorrupted,OrTheEscapeSequenceHasNotBeenGenerated\ncorrectly.|~stringValuesCannotContainUnprintableCharacters (characterCodes\nbelow 32).~theCharacter $srcIsUnprintable.~youMayNeedToRemove\ntheseCharactersFromYourSourceData.~alsoCheckThatItHasNot\nbecomeCorrupted.|~thisStringHasNoEndQuote.|~thisCommentIsNeverClosed.|~noRuleNamed $rulenameIsDefined.~thisIsProbablyAnErrorInThe\ngrammarOfAPlugin.".split("|")){return"unknown|unexpected|invalid_unicode|invalid_ascii|unprintable|unterminated_string|unterminated_comment|unknown_rule".split("|").reduce((n,r,i)=>(n[r]=e(t[i]),n),{})},lex:{match:[o.makeFixedMatcher,o.makeSpaceMatcher,o.makeLineMatcher,o.makeStringMatcher,o.makeCommentMatcher,o.makeNumberMatcher,o.makeTextMatcher],empty:!0,emptyResult:void 0},rule:{start:"val",finish:!0,maxmul:3,include:"",exclude:""},result:{fail:[]},config:{modify:{}},parser:{start:void 0}};i.defaults=s;var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=l.makeRuleSpec=l.makeRule=void 0;const a=t({}),u=n({});class c{constructor(e,t,n){this.id=-1,this.name=r.EMPTY,this.node=null,this.state=r.OPEN,this.n=Object.create(null),this.d=-1,this.use=Object.create(null),this.keep=Object.create(null),this.bo=!1,this.ao=!1,this.bc=!1,this.ac=!1,this.os=0,this.cs=0,this.id=t.uI++,this.name=e.name,this.spec=e,this.child=t.NORULE,this.parent=t.NORULE,this.prev=t.NORULE,this.o0=t.NOTOKEN,this.o1=t.NOTOKEN,this.c0=t.NOTOKEN,this.c1=t.NOTOKEN,this.node=n,this.d=t.rsI,this.bo=null!=e.def.bo,this.ao=null!=e.def.ao,this.bc=null!=e.def.bc,this.ac=null!=e.def.ac}process(e){return this.spec.process(this,e,this.state)}toString(){return"[Rule "+this.name+"~"+this.id+"]"}}const p=(...e)=>new c(...e);l.makeRule=p;class f{constructor(){this.p=r.EMPTY,this.r=r.EMPTY,this.b=0}}const d=(...e)=>new f(...e),h=d(),m=d();class v{constructor(e,t){this.name=r.EMPTY,this.def={open:[],close:[],bo:[],bc:[],ao:[],ac:[]},this.cfg=e,this.def=Object.assign(this.def,t),this.def.open=(this.def.open||[]).filter(e=>null!=e),this.def.close=(this.def.close||[]).filter(e=>null!=e);for(let n of[...this.def.open,...this.def.close])(0,a.normalt)(n)}tin(e){return(0,a.tokenize)(e,this.cfg)}add(e,t,n){let r=(null==n?void 0:n.append)?"push":"unshift",i=((0,a.isarr)(t)?t:[t]).filter(e=>null!=e&&"object"==typeof e).map(e=>(0,a.normalt)(e)),o="o"===e?"open":"close",s=this.def[o];if(s[r](...i),n){if(n.delete)for(let e=0;e<n.delete.length;e++)s[(s.length+n.delete[e])%s.length]=null;if(n.move)for(let e=0;e<n.move.length;e+=2){let t=(s.length+n.move[e])%s.length,r=(s.length+n.move[e+1])%s.length,i=s[t];s.splice(t,1),s.splice(r,0,i)}this.def[o]=s.filter(e=>null!=e)}return(0,a.filterRules)(this,this.cfg),this}open(e,t){return this.add("o",e,t)}close(e,t){return this.add("c",e,t)}action(e,t,n,r){let i=this.def[t+n];return e?i.push(r):i.unshift(r),this}bo(e,t){return this.action(!t||!!e,r.BEFORE,r.OPEN,t||e)}ao(e,t){return this.action(!t||!!e,r.AFTER,r.OPEN,t||e)}bc(e,t){return this.action(!t||!!e,r.BEFORE,r.CLOSE,t||e)}ac(e,t){return this.action(!t||!!e,r.AFTER,r.CLOSE,t||e)}clear(){return this.def.open.length=0,this.def.close.length=0,this.def.bo.length=0,this.def.ao.length=0,this.def.bc.length=0,this.def.ac.length=0,this}process(e,t,n){let i=r.EMPTY,o=t.F,s="o"===n,l=s?e:t.NORULE,u=this.def,c=s?u.open:u.close,f=s?e.bo?u.bo:null:e.bc?u.bc:null;if(f){let n=void 0;for(let r=0;r<f.length;r++)if((null==(n=f[r].call(this,e,t,l,n))?void 0:n.isToken)&&(null==n?void 0:n.err))return this.bad(n,e,t,{is_open:s})}let d=0<c.length?this.parse_alts(s,c,e,t):m;if(d.h&&(d=d.h(e,t,d,l)||d,i+="H"),d.e)return this.bad(d.e,e,t,{is_open:s});if(d.n)for(let r in d.n)e.n[r]=0===d.n[r]?0:(null==e.n[r]?0:e.n[r])+d.n[r];if(d.u&&(e.use=Object.assign(e.use,d.u)),d.k&&(e.keep=Object.assign(e.keep,d.k)),d.a){i+="A";let n=d.a.call(this,e,t,d);if(n&&n.isToken&&n.err)return this.bad(n,e,t,{is_open:s})}if(d.p){t.rs[t.rsI++]=e;let n=t.rsm[d.p];if(!n)return this.bad(this.unknownRule(t.t0,d.p),e,t,{is_open:s});(l=e.child=p(n,t,e.node)).parent=e,l.n={...e.n},0<Object.keys(e.keep).length&&(l.keep={...e.keep}),i+="@p:"+d.p}else if(d.r){let n=t.rsm[d.r];if(!n)return this.bad(this.unknownRule(t.t0,d.r),e,t,{is_open:s});(l=p(n,t,e.node)).parent=e.parent,l.prev=e,l.n={...e.n},0<Object.keys(e.keep).length&&(l.keep={...e.keep}),i+="@r:"+d.r}else s||(l=t.rs[--t.rsI]||t.NORULE),i+="Z";let h=s?e.ao?u.ao:null:e.ac?u.ac:null;if(h){let n=void 0;for(let r=0;r<h.length;r++)if((null==(n=h[r].call(this,e,t,l,n))?void 0:n.isToken)&&(null==n?void 0:n.err))return this.bad(n,e,t,{is_open:s})}l.why=i,t.log&&t.log(a.S.indent.repeat(e.d)+a.S.node+a.S.space,e.state.toUpperCase(),(e.prev.id+"/"+e.parent.id+"/"+e.child.id).padEnd(12),e.name+"~"+e.id,"w="+i,"n:"+(0,a.entries)(e.n).filter(e=>e[1]).map(e=>e[0]+"="+e[1]).join(";"),"u:"+(0,a.entries)(e.use).map(e=>e[0]+"="+e[1]).join(";"),"k:"+(0,a.entries)(e.keep).map(e=>e[0]+"="+e[1]).join(";"),"<"+o(e.node)+">");let v=0,g=e[s?"os":"cs"]-(d.b||0);for(;v++<g;)t.next();return r.OPEN===e.state&&(e.state=r.CLOSE),l}parse_alts(e,t,n,i){let o=h;o.b=0,o.p=r.EMPTY,o.r=r.EMPTY,o.n=void 0,o.h=void 0,o.a=void 0,o.u=void 0,o.k=void 0,o.e=void 0;let s,l=null,u=0,c=i.cfg.t,p=1<<c.AA-1,f=t.length;for(u=0;u<f;u++){l=t[u];let r=i.t0.tin,a=!1,c=!1;if(s=!0,l.S0&&(a=!0,(s=l.S0[r/31|0]&(1<<r%31-1|p))&&(c=null!=l.S1,l.S1))){c=!0;let e=i.t1.tin;s=l.S1[e/31|0]&(1<<e%31-1|p)}if(e?(n.o0=a?i.t0:i.NOTOKEN,n.o1=c?i.t1:i.NOTOKEN,n.os=(a?1:0)+(c?1:0)):(n.c0=a?i.t0:i.NOTOKEN,n.c1=c?i.t1:i.NOTOKEN,n.cs=(a?1:0)+(c?1:0)),s&&l.c&&(s=s&&l.c(n,i,o)),s)break;l=null}s||c.ZZ===i.t0.tin||(o.e=i.t0),l&&(o.n=null!=l.n?l.n:o.n,o.h=null!=l.h?l.h:o.h,o.a=null!=l.a?l.a:o.a,o.u=null!=l.u?l.u:o.u,o.k=null!=l.k?l.k:o.k,o.g=null!=l.g?l.g:o.g,o.e=l.e&&l.e(n,i,o)||void 0,o.p=null!=l.p?"string"==typeof l.p?l.p:l.p(n,i,o):o.p,o.r=null!=l.r?"string"==typeof l.r?l.r:l.r(n,i,o):o.r,o.b=null!=l.b?"number"==typeof l.b?l.b:l.b(n,i,o):o.b);let d=u<t.length;return i.log&&i.log(a.S.indent.repeat(n.d)+a.S.parse,n.state.toUpperCase(),(n.prev.id+"/"+n.parent.id+"/"+n.child.id).padEnd(12),n.name+"~"+n.id,d?"alt="+u:"no-alt",d&&o.g?"g:"+o.g+" ":"",(d&&o.p?"p:"+o.p+" ":"")+(d&&o.r?"r:"+o.r+" ":"")+(d&&o.b?"b:"+o.b+" ":""),(r.OPEN===n.state?[n.o0,n.o1].slice(0,n.os):[n.c0,n.c1].slice(0,n.cs)).map(e=>e.name+"="+i.F(e.src)).join(" "),"c:"+(l&&l.c?s:r.EMPTY),"n:"+(0,a.entries)(o.n).map(e=>e[0]+"="+e[1]).join(";"),"u:"+(0,a.entries)(o.u).map(e=>e[0]+"="+e[1]).join(";"),"k:"+(0,a.entries)(o.k).map(e=>e[0]+"="+e[1]).join(";"),u<t.length&&l.s?"["+l.s.map(e=>Array.isArray(e)?e.map(e=>c[e]).join("|"):c[e]).join(" ")+"]":"[]",o),o}bad(e,t,n,r){throw new a.JsonicError(e.err||a.S.unexpected,{...e.use,state:r.is_open?a.S.open:a.S.close},e,t,n)}unknownRule(e,t){return e.err="unknown_rule",e.use=e.use||{},e.use.rulename=t,e}}const g=(...e)=>new v(...e);l.makeRuleSpec=g;class b{constructor(e,t){this.rsm={},this.options=e,this.cfg=t}rule(e,t){if(null==e)return this.rsm;let n=this.rsm[e];if(null===t)delete this.rsm[e];else if(void 0!==t){n=this.rsm[e]=this.rsm[e]||g(this.cfg,{}),(n=this.rsm[e]=t(this.rsm[e],this.rsm)||this.rsm[e]).name=e;for(let e of[...n.def.open,...n.def.close])(0,a.normalt)(e);return}return n}start(e,t,n,i){let o,s=(0,u.makeToken)("#ZZ",(0,a.tokenize)("#ZZ",this.cfg),void 0,r.EMPTY,(0,u.makePoint)(-1)),l=(0,u.makeNoToken)(),c={uI:0,opts:this.options,cfg:this.cfg,meta:n||{},src:()=>e,root:()=>o.node,plgn:()=>t.internal().plugins,rule:{},sub:t.internal().sub,xs:-1,v2:s,v1:s,t0:s,t1:s,tC:-2,next:x,rs:[],rsI:0,rsm:this.rsm,log:void 0,F:(0,a.srcfmt)(this.cfg),use:{},NOTOKEN:l,NORULE:{}};c=(0,a.deep)(c,i);let f=(e=>p(g(e.cfg,{}),e))(c);if(c.NORULE=f,c.rule=f,(0,a.makelog)(c,n),""===e){if(this.cfg.lex.empty)return this.cfg.lex.emptyResult;throw new a.JsonicError(a.S.unexpected,{src:e},c.t0,f,c)}let d=e=>(0,a.tokenize)(e,this.cfg),h=(0,a.badlex)((0,u.makeLex)(c),(0,a.tokenize)("#BD",this.cfg),c),m=this.rsm[this.cfg.rule.start];if(null==m)return;let v=p(m,c);o=v;let b=2*(0,a.keys)(this.rsm).length*h.src.length*2*c.cfg.rule.maxmul,y=c.cfg.tokenSetDerived.ignore;function x(){let e,t;c.v2=c.v1,c.v1=c.t0,c.t0=c.t1;do{t=h(v),c.tC++}while(y[t.tin]&&(e=t));return t.ignored=e,c.t1=t,c.t0}x(),x();let k=0;for(;f!==v&&k<b;)c.sub.rule&&c.sub.rule.map(e=>e(v,c)),c.log&&c.log("\n"+a.S.indent.repeat(v.d)+a.S.stack,c.rs.slice(0,c.rsI).map(e=>e.name+"~"+e.id).join("/"),"<<"+c.F(o.node)+">>",c.rs.slice(0,c.rsI).map(e=>"<"+c.F(e.node)+">").join(" "),v,c),c.log&&c.log(a.S.indent.repeat(v.d)+a.S.rule+a.S.space,v.state.toUpperCase(),(v.prev.id+"/"+v.parent.id+"/"+v.child.id).padEnd(12),v.name+"~"+v.id,"["+c.F(c.t0.src)+" "+c.F(c.t1.src)+"]","n:"+(0,a.entries)(v.n).filter(e=>e[1]).map(e=>e[0]+"="+e[1]).join(";"),"u:"+(0,a.entries)(v.use).map(e=>e[0]+"="+e[1]).join(";"),"k:"+(0,a.entries)(v.keep).map(e=>e[0]+"="+e[1]).join(";"),"["+d(c.t0.tin)+" "+d(c.t1.tin)+"]",v,c),c.rule=v,v=v.process(c),k++;if((0,a.tokenize)("#ZZ",this.cfg)!==c.t0.tin)throw new a.JsonicError(a.S.unexpected,{},c.t0,f,c);const w=c.root();if(this.cfg.result.fail.includes(w))throw new a.JsonicError(a.S.unexpected,{},c.t0,f,c);return w}clone(e,t){let n=new b(e,t);return n.rsm=Object.keys(this.rsm).reduce((e,t)=>(e[t]=(0,a.filterRules)(this.rsm[t],this.cfg),e),{}),n}}l.Parser=b;var y={};function x(e){const t=e.token.OB,n=e.token.CB,r=e.token.OS,i=e.token.CS,o=e.token.CL,s=e.token.CA,l=e.token.TX,a=e.token.ST,u=e.token.ZZ,c=e.config(),p=c.tokenSet.val,f=c.tokenSet.key,d=e.util.deep,h=(e,t)=>{if(!t.cfg.rule.finish)return t.t0.src="END_OF_SOURCE",t.t0},m=e=>{const t=e.o0,n=a===t.tin||l===t.tin?t.val:t.src;e.use.key=n};e.rule("val",e=>{e.bo(e=>e.node=void 0).open([{s:[t],p:"map",b:1,g:"map,json"},{s:[r],p:"list",b:1,g:"list,json"},{s:[p],g:"val,json"}]).close([{s:[u],g:"end,json"},{b:1,g:"more,json"}]).bc((e,t)=>{e.node=void 0===e.node?void 0===e.child.node?0===e.os?void 0:e.o0.resolveVal(e,t):e.child.node:e.node})}),e.rule("map",e=>{e.bo(e=>{e.node={}}).open([{s:[t,n],g:"map,json"},{s:[t],p:"pair",n:{pk:0},g:"map,json,pair"}])}),e.rule("list",e=>{e.bo(e=>{e.node=[]}).open([{s:[r,i],g:"list,json"},{s:[r],p:"elem",g:"list,elem,json"}])}),e.rule("pair",e=>{e.open([{s:[f,o],p:"val",u:{pair:!0},a:m,g:"map,pair,key,json"}]).bc((e,t)=>{e.use.pair&&(e.use.prev=e.node[e.use.key],e.node[e.use.key]=e.child.node)}).close([{s:[n],g:"map,pair,json"},{s:[s],r:"pair",g:"map,pair,json"},{s:[u],e:h,g:"map,pair,json"}])}),e.rule("elem",e=>{e.open([{p:"val",u:{elem:!0},g:"list,elem,val,json"}]).bc(e=>{e.use.elem&&e.node.push(e.child.node)}).close([{s:[s],r:"elem",g:"list,elem,json"},{s:[i],g:"list,elem,json"},{s:[u],e:h,g:"list,elem,json"}])});const v=(e,t)=>{let n=e.use.key,r=e.child.node;const i=e.use.prev;r=void 0===r?null:r,e.node[n]=null==i?r:t.cfg.map.merge?t.cfg.map.merge(i,r):t.cfg.map.extend?d(i,r):r};e.rule("val",e=>{e.open([{s:[f,o],p:"map",b:2,n:{pk:1},g:"pair,jsonic"},{s:[p],g:"val,json"},{s:[[n,i]],b:1,g:"val,imp,null,jsonic"},{s:[s],c:{n:{il:0}},p:"list",b:1,g:"list,imp,jsonic"},{s:[s],b:1,g:"list,val,imp,null,jsonic"}],{append:!0,delete:[2]}).close([{s:[[n,i]],b:1,g:"val,json,close"},{s:[s],c:{n:{il:0,pk:0}},n:{il:1},r:"elem",a:e=>e.node=[e.node],g:"list,val,imp,comma,jsonic"},{c:{n:{il:0,pk:0}},n:{il:1},r:"elem",a:e=>e.node=[e.node],g:"list,val,imp,space,jsonic",b:1}],{append:!0,move:[1,-1]})}),e.rule("map",e=>{e.bo(e=>{e.n.il=1+(e.n.il?e.n.il:0),e.n.im=1+(e.n.im?e.n.im:0)}).open([{s:[f,o],p:"pair",b:2,g:"pair,list,val,imp"}],{append:!0})}),e.rule("list",e=>{e.bo(e=>{e.n.il=1+(e.n.il?e.n.il:0),e.n.pk=1+(e.n.pk?e.n.pk:0),e.n.im=1+(e.n.im?e.n.im:0)}).open([{s:[s],p:"elem",b:1,g:"list,elem,val,imp"},{p:"elem",g:"list,elem"}],{append:!0})}),e.rule("pair",e=>{e.open([{s:[s],g:"map,pair,comma"}],{append:!0}).bc((e,t)=>{e.use.pair&&v(e,t)}).close([{s:[n],c:{n:{pk:0}},g:"map,pair,json"},{s:[s,n],c:{n:{pk:0}},g:"map,pair,comma,jsonic"},{s:[s],c:{n:{pk:0}},r:"pair",g:"map,pair,json"},{s:[s],c:{n:{im:1}},r:"pair",g:"map,pair,jsonic"},{s:[p],c:{n:{pk:0}},r:"pair",b:1,g:"map,pair,imp,jsonic"},{s:[p],c:{n:{im:1}},r:"pair",b:1,g:"map,pair,imp,jsonic"},{s:[[n,s,...p]],b:1,g:"map,pair,imp,path,jsonic"},{s:[i],b:1,g:"list,pair,imp,jsonic"},{s:[u],e:h,g:"map,pair,json"}],{append:!0,delete:[0,1,2]})}),e.rule("elem",e=>{e.open([{s:[s,s],b:2,a:e=>e.node.push(null),g:"list,elem,imp,null,jsonic"},{s:[s],a:e=>e.node.push(null),g:"list,elem,imp,null,jsonic"},c.list.property&&{s:[f,o],p:"val",n:{pk:1},u:{elem:!1},a:m,g:"elem,pair,jsonic"}]).bc((e,t)=>{!1===e.use.elem&&(e.use.prev=e.node[e.use.key],v(e,t))}).close([{s:[s,i],g:"list,elem,comma.jsonic"},{s:[s],r:"elem",g:"list,elem,json"},{s:[[...p,t,r]],r:"elem",b:1,g:"list,elem,imp,jsonic"},{s:[i],g:"list,elem,json"},{s:[u],e:h,g:"list,elem,json"}],{delete:[-1,-2,-3]})})}Object.defineProperty(y,"__esModule",{value:!0}),y.makeJSON=y.grammar=void 0,y.grammar=x,y.makeJSON=function(e){let t=e.make({grammar$:!1,text:{lex:!1},number:{hex:!1,oct:!1,bin:!1,sep:null,exclude:/^00+/},string:{chars:'"',multiChars:"",allowUnknown:!1,escape:{v:null}},comment:{lex:!1},map:{extend:!1},lex:{empty:!1},rule:{finish:!1,include:"json"},result:{fail:[void 0,NaN]},tokenSet:{key:["#ST",null,null,null]}});return x(t),t};var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.Debug=void 0;const w=(e,t)=>{const{keys:n,values:r,entries:i}=e.util;e.debug={describe:function(){var t;let o=null===(t=e.options.lex)||void 0===t?void 0:t.match,s=e.rule();return["========= RULES =========",_(e,n(s),s),"\n","========= ALTS =========",r(s).map(t=>"  "+t.name+":\n"+S(e,t,"open")+S(e,t,"close")).join("\n\n"),"\n","========= LEXER =========","  "+(o&&o.map(e=>e.name)||[]).join("\n  "),"\n","\n","========= PLUGIN =========","  "+e.internal().plugins.map(e=>e.name+(e.options?i(e.options).reduce((e,t)=>e+"\n    "+t[0]+": "+JSON.stringify(t[1]),""):"")).join("\n  "),"\n"].join("\n")}};const o=e.use.bind(e);e.use=(...e)=>{let n=o(...e);return t.print&&n.internal().config.debug.get_console().log(n.debug.describe()),n},t.trace};function S(e,t,n){const{entries:r}=e.util;return 0===t.def[n].length?"":"    "+n.toUpperCase()+":\n"+t.def[n].map((t,n)=>{var i,o;return"      "+(""+n).padStart(5," ")+" "+("["+(t.s||[]).map(t=>"number"==typeof t?e.token[t]:"["+t.map(t=>e.token[t])+"]").join(" ")+"] ").padEnd(32," ")+(t.r?" r="+("string"==typeof t.r?t.r:"<F>"):"")+(t.p?" p="+("string"==typeof t.p?t.p:"<F>"):"")+(t.r||t.p?"":"\t")+"\t"+(null==t.b?"":"b="+t.b)+"\t"+(null==t.n?"":"n="+r(t.n).map(([e,t])=>e+":"+t))+"\t"+(null==t.a?"":"A")+(null==t.c?"":"C")+(null==t.h?"":"H")+"\t"+(null==(null===(i=t.c)||void 0===i?void 0:i.n)?"\t":" CN="+r(t.c.n).map(([e,t])=>e+":"+t))+(null==(null===(o=t.c)||void 0===o?void 0:o.d)?"":" CD="+t.c.d)+(t.g?"\tg="+t.g:"")}).join("\n")+"\n"}function _(e,t,n){const{values:r,omap:i}=e.util;return t.reduce((e,t)=>e+"  "+t+":\n    "+r(i({op:j(n,t,"open","p"),or:j(n,t,"open","r"),cp:j(n,t,"close","p"),cr:j(n,t,"close","r")},([e,t])=>[1<t.length?e:void 0,e+": "+t])).join("\n    ")+"\n","")}function j(e,t,n,r){return[...new Set(e[t].def[n].filter(e=>e[r]).map(e=>e[r]).map(e=>"string"==typeof e?e:"<F>"))].join(" ")}k.Debug=w,w.defaults={print:!0,trace:!1};var O={exports:{}};Object.defineProperty(O.exports,"__esModule",{value:!0}),O.exports.EMPTY=O.exports.AFTER=O.exports.BEFORE=O.exports.CLOSE=O.exports.OPEN=O.exports.makeTextMatcher=O.exports.makeNumberMatcher=O.exports.makeCommentMatcher=O.exports.makeStringMatcher=O.exports.makeLineMatcher=O.exports.makeSpaceMatcher=O.exports.makeFixedMatcher=O.exports.makeLex=O.exports.makeRuleSpec=O.exports.makeRule=O.exports.makePoint=O.exports.makeToken=O.exports.make=O.exports.util=O.exports.Debug=O.exports.Parser=O.exports.JsonicError=O.exports.Jsonic=void 0,Object.defineProperty(O.exports,"OPEN",{enumerable:!0,get:function(){return r.OPEN}}),Object.defineProperty(O.exports,"CLOSE",{enumerable:!0,get:function(){return r.CLOSE}}),Object.defineProperty(O.exports,"BEFORE",{enumerable:!0,get:function(){return r.BEFORE}}),Object.defineProperty(O.exports,"AFTER",{enumerable:!0,get:function(){return r.AFTER}}),Object.defineProperty(O.exports,"EMPTY",{enumerable:!0,get:function(){return r.EMPTY}});const I=t({});Object.defineProperty(O.exports,"JsonicError",{enumerable:!0,get:function(){return I.JsonicError}});const E=n({});Object.defineProperty(O.exports,"makePoint",{enumerable:!0,get:function(){return E.makePoint}}),Object.defineProperty(O.exports,"makeToken",{enumerable:!0,get:function(){return E.makeToken}}),Object.defineProperty(O.exports,"makeLex",{enumerable:!0,get:function(){return E.makeLex}}),Object.defineProperty(O.exports,"makeFixedMatcher",{enumerable:!0,get:function(){return E.makeFixedMatcher}}),Object.defineProperty(O.exports,"makeSpaceMatcher",{enumerable:!0,get:function(){return E.makeSpaceMatcher}}),Object.defineProperty(O.exports,"makeLineMatcher",{enumerable:!0,get:function(){return E.makeLineMatcher}}),Object.defineProperty(O.exports,"makeStringMatcher",{enumerable:!0,get:function(){return E.makeStringMatcher}}),Object.defineProperty(O.exports,"makeCommentMatcher",{enumerable:!0,get:function(){return E.makeCommentMatcher}}),Object.defineProperty(O.exports,"makeNumberMatcher",{enumerable:!0,get:function(){return E.makeNumberMatcher}}),Object.defineProperty(O.exports,"makeTextMatcher",{enumerable:!0,get:function(){return E.makeTextMatcher}}),Object.defineProperty(O.exports,"makeRule",{enumerable:!0,get:function(){return l.makeRule}}),Object.defineProperty(O.exports,"makeRuleSpec",{enumerable:!0,get:function(){return l.makeRuleSpec}}),Object.defineProperty(O.exports,"Parser",{enumerable:!0,get:function(){return l.Parser}}),Object.defineProperty(O.exports,"Debug",{enumerable:!0,get:function(){return k.Debug}});const V={tokenize:I.tokenize,srcfmt:I.srcfmt,clone:I.clone,charset:I.charset,trimstk:I.trimstk,makelog:I.makelog,badlex:I.badlex,extract:I.extract,errinject:I.errinject,errdesc:I.errdesc,configure:I.configure,parserwrap:I.parserwrap,mesc:I.mesc,escre:I.escre,regexp:I.regexp,prop:I.prop,str:I.str,clean:I.clean,deep:I.deep,omap:I.omap,keys:I.keys,values:I.values,entries:I.entries};function N(e,t){if("json"===e)return(0,y.makeJSON)(T);let n={parser:{},config:{},plugins:[],sub:{lex:void 0,rule:void 0},mark:Math.random()},r=(0,I.deep)({},t?{...t.options}:!1===(null==e?void 0:e.defaults$)?{}:i.defaults,e||{}),o=function(e,t,n){var r;if(I.S.string===typeof e){let i=o.internal();return((null===(r=s.parser)||void 0===r?void 0:r.start)?(0,I.parserwrap)(s.parser):i.parser).start(e,o,t,n)}return e},s=e=>{if(null!=e&&I.S.object===typeof e){(0,I.deep)(r,e),(0,I.configure)(o,n.config,r);let t=o.internal().parser;n.parser=t.clone(r,n.config)}return{...o.options}},a={token:e=>(0,I.tokenize)(e,n.config,o),fixed:e=>n.config.fixed.ref[e],options:(0,I.deep)(s,r),config:()=>(0,I.deep)(n.config),parse:o,use:function(e,t){const n=e.name.toLowerCase(),r=(0,I.deep)({},e.defaults||{},t||{});o.options({plugin:{[n]:r}});let i=o.options.plugin[n];return o.internal().plugins.push(e),e.options=i,e(o,i)||o},rule:(e,t)=>o.internal().parser.rule(e,t)||o,lex:e=>{let t=r.lex.match;t.unshift(e),o.options({lex:{match:t}})},make:e=>N(e,o),empty:e=>N({defaults$:!1,standard$:!1,grammar$:!1,...e||{}}),id:"Jsonic/"+Date.now()+"/"+(""+Math.random()).substring(2,8).padEnd(6,"0")+(null==s.tag?"":"/"+s.tag),toString:()=>a.id,sub:e=>(e.lex&&(n.sub.lex=n.sub.lex||[],n.sub.lex.push(e.lex)),e.rule&&(n.sub.rule=n.sub.rule||[],n.sub.rule.push(e.rule)),o),util:V};if((0,I.defprop)(a.make,I.S.name,{value:I.S.make}),(0,I.assign)(o,a),(0,I.defprop)(o,"internal",{value:()=>n}),t){for(let n in t)void 0===o[n]&&(o[n]=t[n]);o.parent=t;let e=t.internal();n.config=(0,I.deep)({},e.config),(0,I.configure)(o,n.config,r),(0,I.assign)(o.token,n.config.t),n.plugins=[...e.plugins],n.parser=e.parser.clone(r,n.config)}else n.config=(0,I.configure)(o,void 0,r),n.plugins=[],n.parser=new l.Parser(r,n.config),!1!==r.grammar$&&(0,y.grammar)(o);return o}O.exports.util=V,O.exports.make=N;let T=void 0,$=T=N();return O.exports.Jsonic=$,delete T.options,delete T.use,delete T.rule,delete T.lex,delete T.token,delete T.fixed,T.Jsonic=T,T.JsonicError=I.JsonicError,T.Parser=l.Parser,T.Debug=k.Debug,T.makeLex=E.makeLex,T.makeToken=E.makeToken,T.makePoint=E.makePoint,T.makeRule=l.makeRule,T.makeRuleSpec=l.makeRuleSpec,T.makeFixedMatcher=E.makeFixedMatcher,T.makeSpaceMatcher=E.makeSpaceMatcher,T.makeLineMatcher=E.makeLineMatcher,T.makeStringMatcher=E.makeStringMatcher,T.makeCommentMatcher=E.makeCommentMatcher,T.makeNumberMatcher=E.makeNumberMatcher,T.makeTextMatcher=E.makeTextMatcher,T.OPEN=r.OPEN,T.CLOSE=r.CLOSE,T.BEFORE=r.BEFORE,T.AFTER=r.AFTER,T.EMPTY=r.EMPTY,T.util=V,T.make=N,O.exports.default=$,O.exports=O.exports.Jsonic,O.exports}))},ffda:function(e,t){e.exports=x}})}));
//# sourceMappingURL=Vxg.umd.min.js.map